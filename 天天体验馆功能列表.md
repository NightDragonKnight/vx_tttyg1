# 天天体验馆小程序功能列表

## 项目概述
- **项目名称**: 天天体验馆
- **项目类型**: uni-app 小程序
- **主题色彩**: 粉色系 (#FF69B4)
- **业务类型**: 成人体验馆预订平台

---

## 一、页面结构

### 1.1 主要页面 (TabBar)
| 页面名称 | 路径 | 图标 | 描述 |
|---------|------|------|------|
| 首页 | pages/tabBar/home/home | 🏠 | 轮播图、功能入口、热门推荐 |
| 热门活动 | pages/tabBar/discount/discount | 🎁 | 活动展示列表 |
| 我的预订 | pages/tabBar/booking/booking | 📋 | 订单管理、状态筛选 |
| 体验馆 | pages/tabBar/experience/experience | 🏢 | 门店列表、区域搜索 |
| 个人中心 | pages/tabBar/profile/profile | 👤 | 用户信息、账户管理 |

### 1.2 子页面
| 页面名称 | 路径 | 功能描述 |
|---------|------|----------|
| 预订详情 | pages/tabBar/booking-detail/booking-detail | 产品预订流程页面 |
| 订单详情 | pages/order-detail/order-detail | 已支付订单详情查看 |

---

## 二、功能模块详细列表

### 2.1 首页模块 (home.vue)

#### 2.1.1 公告系统
| 功能 | 描述 | 实现状态 |
|------|------|----------|
| 公告弹窗 | 首次打开应用显示公告内容 | ✅ 已实现 |
| 公告内容 | 营业时间、安全规定、最新活动等 | ✅ 已实现 |
| 会话控制 | 每次应用启动只显示一次 | ✅ 已实现 |
| 测试功能 | 开发环境可手动触发公告 | ✅ 已实现 |

#### 2.1.2 轮播图
| 功能 | 描述 | 实现状态 |
|------|------|----------|
| 图片轮播 | 3张轮播图自动播放 | ✅ 已实现 |
| 自动切换 | 3秒间隔自动切换 | ✅ 已实现 |
| 循环播放 | 支持无限循环 | ✅ 已实现 |

#### 2.1.3 主要功能入口
| 功能 | 描述 | 实现状态 |
|------|------|----------|
| 体验馆入口 | 跳转到体验馆页面 | ✅ 已实现 |
| 爆款推荐入口 | 跳转到热门活动页面 | ✅ 已实现 |

#### 2.1.4 热门推荐
| 功能 | 描述 | 实现状态 |
|------|------|----------|
| 产品展示 | VR、密室、台球等体验项目 | ✅ 已实现 |
| 价格显示 | 每个项目的价格信息 | ✅ 已实现 |
| 产品图片 | 各项目的展示图片 | ✅ 已实现 |

### 2.2 热门活动模块 (discount.vue)

#### 2.2.1 活动展示
| 功能 | 描述 | 实现状态 |
|------|------|----------|
| 活动列表 | 6个不同类型的活动 | ✅ 已实现 |
| 活动详情 | 标题、描述、时间、地点 | ✅ 已实现 |
| 状态标签 | 进行中、火热进行、最新活动等 | ✅ 已实现 |
| 参与人数 | 显示活动参与统计 | ✅ 已实现 |

#### 2.2.2 活动类型
| 活动名称 | 状态 | 参与人数 | 地点 |
|----------|------|----------|------|
| 新店开业大酬宾 | 进行中 | 1288人 | 全部门店 |
| 周末狂欢夜 | 每周进行 | 856人 | 旗舰店 |
| 生日月专享福利 | 长期有效 | 2156人 | 全部门店 |
| 连续签到挑战 | 火热进行 | 3247人 | 线上活动 |
| 好友拼团活动 | 最新活动 | 567人 | 全部门店 |
| 年终盛典 | 即将开始 | 234人 | 全部门店 |

### 2.3 我的预订模块 (booking.vue)

#### 2.3.1 搜索筛选
| 功能 | 描述 | 实现状态 |
|------|------|----------|
| 门店筛选 | 全部门店、朝阳店、海淀店、西城店 | ✅ 已实现 |
| 状态筛选 | 全部状态、待支付、已支付、已完成、退款中、退款完成、已取消 | ✅ 已实现 |
| 组合筛选 | 支持门店和状态同时筛选 | ✅ 已实现 |

#### 2.3.2 订单状态管理
| 状态 | 描述 | 可执行操作 | 颜色 |
|------|------|------------|------|
| 待支付 | 未付款订单 | 取消预订、立即支付 | 橙色 |
| 已支付 | 已付款订单 | 查看详情、快捷开锁 | 绿色 |
| 已完成 | 体验完成 | 写评价 | 粉色 |
| 退款中 | 退款处理中 | 查看详情 | 橙色 |
| 退款完成 | 退款已到账 | 查看详情 | 蓝色 |
| 已取消 | 订单已取消 | 查看详情 | 灰色 |

#### 2.3.3 房间管理
| 房间状态 | 描述 | 操作权限 |
|----------|------|----------|
| 可使用 | 房间已准备就绪 | 可开锁 |
| 清洁中 | 房间清洁中 | 不可开锁 |
| 使用中 | 房间正在使用 | 不可开锁 |

#### 2.3.4 订单操作
| 功能 | 描述 | 实现状态 |
|------|------|----------|
| 快捷开锁 | 一键开启房间门锁 | ✅ 已实现 |
| 开锁次数限制 | 每订单限制3次开锁 | ✅ 已实现 |
| 订单取消 | 待支付订单可取消 | ✅ 已实现 |
| 立即支付 | 跳转支付流程 | ✅ 已实现 |
| 查看详情 | 跳转订单详情页 | ✅ 已实现 |
| 写评价 | 完成订单后评价 | ✅ 已实现 |

### 2.4 体验馆模块 (experience.vue)

#### 2.4.1 区域搜索
| 功能 | 描述 | 实现状态 |
|------|------|----------|
| 搜索框 | 支持区域关键词搜索 | ✅ 已实现 |
| 省份选择 | 全国、北京市、上海市、广东省等 | ✅ 已实现 |
| 城市选择 | 根据省份显示对应城市 | ✅ 已实现 |
| 区县选择 | 根据城市显示对应区县 | ✅ 已实现 |
| 智能筛选 | 根据选择条件过滤门店 | ✅ 已实现 |

#### 2.4.2 门店信息展示
| 功能 | 描述 | 实现状态 |
|------|------|----------|
| 门店列表 | 以门店为维度展示 | ✅ 已实现 |
| 基本信息 | 名称、地址、电话、营业时间 | ✅ 已实现 |
| 服务项目 | VR、密室、台球、棋牌等 | ✅ 已实现 |
| 价格区间 | 显示门店价格范围 | ✅ 已实现 |
| 营业状态 | 营业中、装修中、休息中 | ✅ 已实现 |

#### 2.4.3 门店操作
| 功能 | 描述 | 实现状态 |
|------|------|----------|
| 电话联系 | 一键拨打门店电话 | ✅ 已实现 |
| 地图导航 | 打开地图导航到门店 | ✅ 已实现 |
| 预订服务 | 跳转到预订页面 | ✅ 已实现 |
| 状态控制 | 装修中/休息中不可预订 | ✅ 已实现 |

#### 2.4.4 门店数据
| 门店名称 | 状态 | 地址 | 服务项目 | 价格区间 |
|----------|------|------|----------|----------|
| 朝阳旗舰店 | 营业中 | 朝阳区建国路88号 | VR、密室、台球、棋牌 | ¥50-200 |
| 海淀科技店 | 营业中 | 海淀区中关村大街28号 | VR、密室、台球 | ¥60-180 |
| 西城商务店 | 营业中 | 西城区西单北大街132号 | VR、密室、棋牌 | ¥55-160 |
| 丰台新店 | 装修中 | 丰台区方庄路15号 | VR、台球 | ¥45-150 |

### 2.5 个人中心模块 (profile.vue)

#### 2.5.1 用户信息
| 功能 | 描述 | 实现状态 |
|------|------|----------|
| 微信登录 | 获取微信头像和昵称 | ✅ 已实现 |
| 会员等级 | 显示用户会员等级 | ✅ 已实现 |
| 登录状态 | 未登录时显示登录提示 | ✅ 已实现 |
| 数据持久化 | 用户信息本地存储 | ✅ 已实现 |

#### 2.5.2 分享分佣
| 功能 | 描述 | 实现状态 |
|------|------|----------|
| 分享按钮 | 登录后显示分享分佣按钮 | ✅ 已实现 |
| 分享方式 | 微信好友、朋友圈、复制链接 | ✅ 已实现 |
| 邀请码生成 | 基于用户信息生成专属邀请码 | ✅ 已实现 |
| 分佣规则 | 好友消费获得5%分佣 | ✅ 已实现 |

#### 2.5.3 账户信息
| 功能 | 描述 | 默认值 | 实现状态 |
|------|------|--------|----------|
| 储值余额 | 用户账户余额 | ¥268.00 | ✅ 已实现 |
| 积分 | 用户积分数量 | 1560分 | ✅ 已实现 |
| 待评价 | 待评价订单数量 | 3个 | ✅ 已实现 |

#### 2.5.4 储值充值
| 功能 | 描述 | 实现状态 |
|------|------|----------|
| 快速充值 | 100元、200元、500元 | ✅ 已实现 |
| 自定义金额 | 用户输入任意金额 | ✅ 已实现 |
| 支付流程 | 模拟支付过程 | ✅ 已实现 |
| 积分奖励 | 充值1元得1积分 | ✅ 已实现 |
| 余额更新 | 充值成功后更新余额 | ✅ 已实现 |

#### 2.5.5 快捷服务
| 服务 | 图标 | 背景色 | 功能 |
|------|------|--------|------|
| 储值充值 | 💰 | #E8F5E8 | 账户充值功能 |
| 我的评价 | ⭐ | #F0F9FF | 查看待评价订单 |

#### 2.5.6 功能菜单
| 功能 | 图标 | 描述 | 实现状态 |
|------|------|------|----------|
| 意见反馈 | 💬 | 用户反馈意见建议 | ✅ 已实现 |
| 关于我们 | ℹ️ | 企业介绍信息 | ✅ 已实现 |
| 分佣收入 | 💎 | 查看分佣收入详情 | ✅ 已实现 |
| 加盟我们 | 🤝 | 加盟咨询和申请 | ✅ 已实现 |
| 保洁专区 | 🧽 | 保洁服务管理 | ✅ 已实现 |

#### 2.5.7 加盟功能
| 功能 | 描述 | 实现状态 |
|------|------|----------|
| 加盟政策 | 展示加盟优势和费用 | ✅ 已实现 |
| 申请加盟 | 收集加盟申请信息 | ✅ 已实现 |
| 联系招商 | 多种联系方式 | ✅ 已实现 |
| 招商热线 | 400-888-9999 | ✅ 已实现 |

### 2.6 订单详情模块 (order-detail.vue)

#### 2.6.1 订单信息
| 功能 | 描述 | 实现状态 |
|------|------|----------|
| 订单基本信息 | 订单号、状态、下单时间 | ✅ 已实现 |
| 产品信息 | 产品名称、描述、图片 | ✅ 已实现 |
| 预订详情 | 日期、时间、人数 | ✅ 已实现 |
| 房间信息 | 房间号、状态、开锁次数 | ✅ 已实现 |
| 价格信息 | 总金额显示 | ✅ 已实现 |

#### 2.6.2 门店信息
| 功能 | 描述 | 实现状态 |
|------|------|----------|
| 门店详情 | 名称、地址、营业时间、电话 | ✅ 已实现 |
| 地图导航 | 打开地图导航到门店 | ✅ 已实现 |
| 电话联系 | 一键拨打门店电话 | ✅ 已实现 |
| 门店状态 | 营业状态显示 | ✅ 已实现 |

#### 2.6.3 退款功能
| 功能 | 描述 | 实现状态 |
|------|------|----------|
| 退款比例计算 | 基于预约时间自动计算 | ✅ 已实现 |
| 退款规则 | 12小时外100%、12-6小时80%、6小时内50% | ✅ 已实现 |
| 退款原因选择 | 多种退款原因选项 | ✅ 已实现 |
| 用户备注 | 支持退款备注说明 | ✅ 已实现 |
| 退款流程 | 完整的申请和确认流程 | ✅ 已实现 |

#### 2.6.4 开锁功能
| 功能 | 描述 | 实现状态 |
|------|------|----------|
| 开锁按钮 | 房间可用时显示开锁按钮 | ✅ 已实现 |
| 次数限制 | 每订单最多3次开锁 | ✅ 已实现 |
| 状态检查 | 只有可使用状态才能开锁 | ✅ 已实现 |
| 开锁流程 | 确认对话框和加载动画 | ✅ 已实现 |
| 状态更新 | 开锁后更新房间状态 | ✅ 已实现 |

### 2.7 预订详情模块 (booking-detail.vue)

#### 2.7.1 产品选择
| 功能 | 描述 | 实现状态 |
|------|------|----------|
| 产品列表 | 10个体验产品选择 | ✅ 已实现 |
| 产品视频 | 根据选择切换视频内容 | ✅ 已实现 |
| 产品轮播图 | 根据选择切换图片轮播 | ✅ 已实现 |
| 产品信息 | 名称、描述、价格显示 | ✅ 已实现 |
| 网格布局 | 两行五列紧凑布局 | ✅ 已实现 |

#### 2.7.2 房间选择
| 功能 | 描述 | 实现状态 |
|------|------|----------|
| 条件显示 | 选择产品后才显示 | ✅ 已实现 |
| 房间列表 | 可用房间列表 | ✅ 已实现 |
| 房间信息 | 容量、设施、状态 | ✅ 已实现 |
| 房间轮播图 | 选择房间后显示图片 | ✅ 已实现 |
| 状态控制 | 不可用房间禁止选择 | ✅ 已实现 |

#### 2.7.3 时间选择
| 功能 | 描述 | 实现状态 |
|------|------|----------|
| 条件显示 | 选择房间后才显示 | ✅ 已实现 |
| 日期选择 | 预约日期picker | ✅ 已实现 |
| 开始时间 | 00:00-23:00选择范围 | ✅ 已实现 |
| 结束时间 | 最大到24:00 | ✅ 已实现 |
| 24小时网格 | 可视化时间状态展示 | ✅ 已实现 |
| 产品特定状态 | 不同产品的时间段状态 | ✅ 已实现 |

#### 2.7.4 时间状态可视化
| 状态 | 颜色 | 描述 |
|------|------|------|
| 可预约 | 绿色 | 可以预约的时间段 |
| 已预订 | 红色 | 已被预订的时间段 |
| 保洁时间 | 黄色 | 房间保洁时间 |

#### 2.7.5 套餐选择
| 功能 | 描述 | 实现状态 |
|------|------|----------|
| 条件显示 | 选择时间后才显示 | ✅ 已实现 |
| 套餐列表 | 不同套餐选项 | ✅ 已实现 |
| 套餐信息 | 名称、描述、价格、包含项目 | ✅ 已实现 |
| 价格计算 | 产品价格+套餐价格 | ✅ 已实现 |

#### 2.7.6 用户备注
| 功能 | 描述 | 实现状态 |
|------|------|----------|
| 条件显示 | 选择套餐后才显示 | ✅ 已实现 |
| 备注输入 | 多行文本输入框 | ✅ 已实现 |
| 字符限制 | 最大200字符 | ✅ 已实现 |

#### 2.7.7 预订确认
| 功能 | 描述 | 实现状态 |
|------|------|----------|
| 预订按钮 | 完成所有选择后可点击 | ✅ 已实现 |
| 确认弹窗 | 显示完整预订信息 | ✅ 已实现 |
| 模拟支付 | 预订流程模拟 | ✅ 已实现 |
| 数据重置 | 预订后清空选择状态 | ✅ 已实现 |

---

## 三、技术特性

### 3.1 框架技术
| 技术 | 版本 | 用途 |
|------|------|------|
| uni-app | 最新版 | 跨平台开发框架 |
| Vue.js | 2.x | 前端框架 |
| SCSS | - | 样式预处理器 |

### 3.2 UI组件
| 组件 | 用途 | 使用页面 |
|------|------|----------|
| uni-popup | 弹窗组件 | 退款申请 |
| swiper | 轮播组件 | 首页、产品展示 |
| picker | 选择器 | 时间、地区、状态选择 |
| video | 视频播放 | 产品视频展示 |

### 3.3 数据存储
| 存储类型 | 用途 | 实现方式 |
|----------|------|----------|
| 本地存储 | 用户信息、账户信息 | uni.setStorageSync |
| 会话存储 | 公告显示状态 | getApp().globalData |
| 页面参数 | 订单详情传递 | URL参数 |

### 3.4 交互功能
| 功能 | 描述 | 实现状态 |
|------|------|----------|
| 微信授权 | 获取用户头像昵称 | ✅ 已实现 |
| 地图导航 | 打开地图导航 | ✅ 已实现 |
| 电话拨打 | 一键拨号功能 | ✅ 已实现 |
| 剪贴板 | 复制邀请链接 | ✅ 已实现 |
| 分享功能 | 微信分享 | ✅ 已实现 |

---

## 四、数据模型

### 4.1 用户数据
```javascript
userInfo: {
    nickName: '微信用户',
    avatarUrl: '/static/image/default-avatar.png',
    level: '普通会员',
    isLogin: false
}
```

### 4.2 账户数据
```javascript
accountInfo: {
    balance: '268.00',    // 储值余额
    points: 1560,         // 积分
    pendingReviews: 3     // 待评价数量
}
```

### 4.3 订单数据
```javascript
orderData: {
    orderNo: 'BK20241201001',
    productName: 'VR体验馆',
    store: '朝阳店',
    date: '2024-12-15',
    time: '09:00',
    quantity: 2,
    totalPrice: '120',
    status: 'paid',
    roomNumber: 'A-101',
    roomStatus: '可使用'
}
```

### 4.4 门店数据
```javascript
storeData: {
    name: '朝阳旗舰店',
    address: '朝阳区建国路88号现代城B座3层',
    phone: '010-85888888',
    businessHours: '09:00-22:00',
    status: 'open',
    services: ['VR体验', '密室逃脱', '台球', '棋牌'],
    priceRange: { min: 50, max: 200 }
}
```

---

## 五、业务流程

### 5.1 用户注册/登录流程
1. 用户点击登录按钮
2. 调用微信授权接口
3. 获取用户头像和昵称
4. 保存用户信息到本地
5. 更新页面登录状态

### 5.2 预订流程
1. 选择门店（体验馆页面）
2. 进入预订详情页面
3. 选择体验产品
4. 选择房间
5. 选择时间（日期+时段）
6. 选择套餐
7. 填写备注（可选）
8. 确认预订并支付

### 5.3 退款流程
1. 查看已支付订单详情
2. 点击申请退款
3. 系统自动计算退款比例
4. 选择退款原因
5. 填写退款备注（可选）
6. 确认提交退款申请
7. 订单状态变更为"退款中"

### 5.4 开锁流程
1. 查看已支付订单
2. 确认房间状态为"可使用"
3. 点击开锁按钮
4. 确认开锁操作
5. 系统执行开锁
6. 更新房间状态为"使用中"
7. 减少剩余开锁次数

---

## 六、状态管理

### 6.1 订单状态
| 状态码 | 状态名称 | 描述 | 用户操作 |
|--------|----------|------|----------|
| pending | 待支付 | 订单创建未支付 | 支付/取消 |
| paid | 已支付 | 订单已支付待使用 | 开锁/退款/查看详情 |
| completed | 已完成 | 订单已完成 | 评价/查看详情 |
| refunding | 退款中 | 退款申请处理中 | 查看详情 |
| refunded | 退款完成 | 退款已到账 | 查看详情 |
| cancelled | 已取消 | 订单已取消 | 查看详情 |

### 6.2 房间状态
| 状态 | 描述 | 开锁权限 |
|------|------|----------|
| 可使用 | 房间准备就绪 | ✅ 允许 |
| 清洁中 | 房间清洁中 | ❌ 禁止 |
| 使用中 | 房间使用中 | ❌ 禁止 |

### 6.3 门店状态
| 状态 | 状态文本 | 预订权限 | 样式 |
|------|----------|----------|------|
| open | 营业中 | ✅ 允许 | 绿色 |
| renovation | 装修中 | ❌ 禁止 | 红色 |
| closed | 休息中 | ❌ 禁止 | 灰色 |

---

## 七、系统配置

### 7.1 页面配置 (pages.json)
```json
{
  "navigationBarBackgroundColor": "#FF69B4",
  "navigationBarTextStyle": "white",
  "backgroundColor": "#fef5f7"
}
```

### 7.2 TabBar配置
| 位置 | 页面 | 图标 | 文字 |
|------|------|------|------|
| 1 | 首页 | 🏠 | 首页 |
| 2 | 热门活动 | 🎁 | 热门活动 |
| 3 | 我的预订 | 📋 | 我的预订 |
| 4 | 个人中心 | 👤 | 个人中心 |

### 7.3 主题色彩
- **主色调**: #FF69B4 (粉色)
- **辅助色**: #FF1493 (深粉色)
- **背景色**: #fef5f7 (浅粉色)
- **成功色**: #4CAF50 (绿色)
- **警告色**: #FFA500 (橙色)
- **错误色**: #F44336 (红色)

---

## 八、功能统计

### 8.1 页面统计
- **主要页面**: 5个
- **子页面**: 2个
- **总页面数**: 7个

### 8.2 功能统计
- **用户功能**: 登录、账户管理、分享分佣
- **预订功能**: 产品预订、时间管理、房间分配
- **订单功能**: 状态管理、退款、开锁
- **门店功能**: 搜索、导航、联系
- **活动功能**: 活动展示、参与统计
- **总功能点**: 50+ 个主要功能

### 8.3 交互组件
- **弹窗组件**: 10+ 个
- **选择器**: 15+ 个
- **按钮操作**: 30+ 个
- **表单输入**: 8+ 个

---

## 九、开发状态

### 9.1 完成情况
- **页面开发**: ✅ 100% 完成
- **功能实现**: ✅ 100% 完成
- **UI设计**: ✅ 100% 完成
- **交互逻辑**: ✅ 100% 完成

### 9.2 测试状态
- **功能测试**: ✅ 基础功能已测试
- **兼容性测试**: ⚠️ 需要多平台测试
- **性能测试**: ⚠️ 需要性能优化测试
- **用户体验测试**: ⚠️ 需要用户体验测试

### 9.3 部署状态
- **开发环境**: ✅ 已完成
- **测试环境**: ⚠️ 待部署
- **生产环境**: ⚠️ 待部署

---

## 十、后续优化建议

### 10.1 功能优化
1. **数据接口**: 将模拟数据替换为真实API接口
2. **支付集成**: 集成真实的支付系统
3. **地图服务**: 集成真实的地图服务
4. **消息推送**: 添加订单状态推送功能
5. **客服系统**: 集成在线客服功能

### 10.2 性能优化
1. **图片优化**: 图片压缩和懒加载
2. **代码分包**: 按功能模块分包加载
3. **缓存策略**: 合理的数据缓存机制
4. **网络优化**: 请求合并和错误重试

### 10.3 用户体验
1. **加载状态**: 更丰富的加载动画
2. **错误处理**: 完善的错误提示机制
3. **离线支持**: 基础功能离线可用
4. **无障碍**: 添加无障碍访问支持

---

**文档生成时间**: 2024年12月
**文档版本**: v1.0
**开发状态**: 功能完成，待优化部署 