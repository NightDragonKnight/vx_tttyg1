<view class="content"><view class="page-header"><view class="page-title">{{a}}</view><view class="step-indicator"><view class="{{['step', b && 'active']}}">1</view><view class="step-line"></view><view class="{{['step', c && 'active']}}">2</view></view></view><view wx:if="{{d}}" class="product-detail-page"><view class="video-section"><view class="section-title">产品视频</view><video src="{{e}}" class="product-video" controls poster="{{f}}"></video></view><view class="swiper-section"><view class="section-title">产品图片</view><swiper class="product-swiper" indicator-dots="{{true}}" autoplay="{{true}}" interval="{{3000}}" duration="{{500}}" indicator-color="rgba(255,255,255,0.6)" indicator-active-color="#FF69B4"><swiper-item wx:for="{{g}}" wx:for-item="image" wx:key="b"><image src="{{image.a}}" class="swiper-image" mode="aspectFill"></image></swiper-item></swiper></view><view class="product-selection-section"><view class="section-title">选择产品</view><view class="product-grid"><view wx:for="{{h}}" wx:for-item="product" wx:key="c" class="{{['product-grid-item', product.d && 'selected']}}" bindtap="{{product.e}}"><image src="{{product.a}}" class="product-grid-thumbnail" mode="aspectFill"></image><text class="product-grid-name">{{product.b}}</text></view></view></view><view class="price-info-section"><view class="price-info-item"><text class="price-label">产品单价：</text><text class="price-value">¥{{i}}/小时</text></view><view class="price-info-item"><text class="price-label">套餐详情：</text><text class="price-desc">套餐一 ¥{{j}}（基础体验） | 套餐二 ¥{{k}}（进阶体验） | 套餐三 ¥{{l}}（豪华体验）</text></view></view><view class="product-detail-images"><view class="section-title">产品明细</view><view class="detail-images-grid"><view wx:for="{{m}}" wx:for-item="detail" wx:key="c" class="detail-image-item"><image src="{{detail.a}}" class="detail-image" mode="aspectFill"></image><text class="detail-image-name">{{detail.b}}</text></view></view></view><view class="next-step"><button class="next-btn" bindtap="{{n}}">下一步：选择预订</button></view></view><view wx:if="{{o}}" class="booking-page"><view class="back-btn" bindtap="{{p}}"><text class="back-icon">←</text><text>返回产品详情</text></view><view class="package-section"><view class="section-title">选择按小时和套餐</view><view style="background:#f0f0f0;padding:10rpx;margin-bottom:20rpx;font-size:24rpx;color:#666"> 当前选中套餐: {{q}}</view><view class="package-options"><view bindtap="{{s}}" class="{{['package-option', t && 'selected']}}"><view class="package-header"><text class="package-name">按小时计费</text><text class="package-price">¥{{r}}/小时</text></view><text class="package-desc">灵活选择时间，按实际使用时长计费</text></view><view bindtap="{{w}}" class="{{['package-option', x && 'selected']}}"><view class="package-header"><text class="package-name">套餐一：基础体验</text><text class="package-price">¥{{v}}</text></view><text class="package-desc">包含2小时体验时间，适合初次体验</text></view><view bindtap="{{z}}" class="{{['package-option', A && 'selected']}}"><view class="package-header"><text class="package-name">套餐二：进阶体验</text><text class="package-price">¥{{y}}</text></view><text class="package-desc">包含4小时体验时间，深度体验推荐</text></view><view bindtap="{{C}}" class="{{['package-option', D && 'selected']}}"><view class="package-header"><text class="package-name">套餐三：豪华体验</text><text class="package-price">¥{{B}}</text></view><text class="package-desc">包含6小时体验时间，极致体验享受</text></view></view></view><view wx:if="{{E}}" class="tip-section"><view class="tip-content"><text class="tip-text">👆 请先选择计费方式</text></view></view><view wx:if="{{F}}" class="time-section"><view style="background:#f0f0f0;padding:10rpx;margin-bottom:20rpx;font-size:24rpx;color:#666"> 调试信息: selectedPackageType = {{G}}</view><view class="section-title">选择时间</view><view class="time-selector"><view class="date-selector"><text class="selector-label">选择日期</text><picker mode="date" value="{{I}}" bindchange="{{J}}"><view class="picker-btn">{{H}}</view></picker></view><view class="time-range-section"><view class="time-range-row"><view class="time-picker-item"><text class="selector-label">开始时间</text><picker value="{{M}}" range="{{N}}" bindchange="{{O}}"><view class="{{['picker-btn', L && 'placeholder']}}">{{K}}</view></picker></view><view class="time-separator"><text>至</text></view><view class="time-picker-item"><text class="selector-label">结束时间</text><picker value="{{S}}" range="{{T}}" bindchange="{{U}}" disabled="{{V}}"><view class="{{['picker-btn', Q && 'placeholder', R && 'disabled']}}">{{P}}</view></picker></view></view><view wx:if="{{W}}" class="duration-info"><text class="duration-text">预计时长：{{X}}小时</text></view><view class="time-visual-section"><text class="selector-label">时间段状态</text><view class="time-visual-grid"><view wx:for="{{Y}}" wx:for-item="hour" wx:key="c" class="{{['time-visual-item', hour.d]}}" bindtap="{{hour.e}}"><text class="hour-text">{{hour.a}}:00</text><view class="{{['status-dot', hour.b]}}"></view></view></view><view class="time-legend"><view class="legend-item"><view class="legend-dot available"></view><text class="legend-text">可预约</text></view><view class="legend-item"><view class="legend-dot booked"></view><text class="legend-text">已预订</text></view><view class="legend-item"><view class="legend-dot cleaning"></view><text class="legend-text">保洁时间</text></view></view></view></view></view></view><view wx:if="{{Z}}" class="tip-section"><view class="tip-content"><text class="tip-text">👆 请选择时间</text></view></view><view wx:if="{{aa}}" class="room-section"><view class="section-title">选择房间</view><view class="room-list"><view wx:for="{{ab}}" wx:for-item="room" wx:key="f" class="{{['room-item', room.g && 'selected', room.h && 'unavailable']}}" bindtap="{{room.i}}"><view class="room-info"><text class="room-name">{{room.a}}</text><text class="room-capacity">容纳人数：{{room.b}}人</text><text class="room-features">设施：{{room.c}}</text></view><view class="{{['room-status', room.e]}}">{{room.d}}</view></view></view><view wx:if="{{ac}}" class="room-images"><view class="section-subtitle">房间详情</view><swiper class="room-swiper" indicator-dots="{{true}}" autoplay="{{false}}" indicator-color="rgba(255,255,255,0.6)" indicator-active-color="#FF69B4"><swiper-item wx:for="{{ad}}" wx:for-item="image" wx:key="b"><image src="{{image.a}}" class="swiper-image" mode="aspectFill"></image></swiper-item></swiper></view></view><view wx:if="{{ae}}" class="tip-section"><view class="tip-content"><text class="tip-text">👆 请选择房间</text></view></view><view wx:if="{{af}}" class="confirm-booking"><button class="confirm-btn" bindtap="{{ag}}">确认预订</button></view></view></view>