<view class="content"><view class="page-header"><view class="page-title">{{a}}</view><view class="step-indicator"><view class="{{['step', b && 'active']}}">1</view><view class="step-line"></view><view class="{{['step', c && 'active']}}">2</view></view></view><view wx:if="{{d}}" class="product-detail-page"><view class="product-detail-section"><view class="section-title">产品详情</view><view class="media-swiper-section"><swiper class="product-media-swiper" indicator-dots="{{true}}" autoplay="{{true}}" interval="{{3000}}" duration="{{500}}" indicator-color="rgba(255,255,255,0.6)" indicator-active-color="#FF69B4"><swiper-item wx:if="{{e}}"><view class="media-item video-item" bindtap="{{h}}"><video src="{{f}}" class="product-video" poster="{{g}}"></video><view class="play-icon">▶</view></view></swiper-item><swiper-item wx:for="{{i}}" wx:for-item="image" wx:key="c"><view class="media-item image-item" bindtap="{{image.b}}"><image src="{{image.a}}" class="swiper-image" mode="aspectFill"></image></view></swiper-item></swiper></view></view><view class="product-selection-section"><view class="section-title">选择产品</view><view class="product-grid"><view wx:for="{{j}}" wx:for-item="product" wx:key="c" class="{{['product-grid-item', product.d && 'selected']}}" bindtap="{{product.e}}"><image src="{{product.a}}" class="product-grid-thumbnail" mode="aspectFill"></image><text class="product-grid-name">{{product.b}}</text></view></view></view><view class="price-info-section"><view class="price-info-item"><text class="price-label">产品单价：</text><text class="price-value">¥{{k}}/小时</text></view><view class="price-info-item"><text class="price-label">套餐详情：</text><view class="package-details"><view class="package-detail-item"><text class="package-detail-name">套餐一：</text><text class="package-detail-price">¥{{l}}</text><text class="package-detail-desc">（基础体验）</text></view><view class="package-detail-item"><text class="package-detail-name">套餐二：</text><text class="package-detail-price">¥{{m}}</text><text class="package-detail-desc">（进阶体验）</text></view><view class="package-detail-item"><text class="package-detail-name">套餐三：</text><text class="package-detail-price">¥{{n}}</text><text class="package-detail-desc">（豪华体验）</text></view></view></view></view><view class="product-info-section"><view class="section-title">产品简介</view><view class="product-description"><view class="description-item"><text class="description-label">适用身高：</text><text class="description-value">{{o}}</text></view><view class="description-item"><text class="description-label">产品尺寸：</text><text class="description-value">{{p}}</text></view><view class="description-item"><text class="description-label">动力类型：</text><text class="description-value">{{q}}</text></view><view class="description-item"><text class="description-label">安全等级：</text><text class="description-value">{{r}}</text></view><view class="description-item"><text class="description-label">使用说明：</text><text class="description-value">{{s}}</text></view></view><view class="disclaimer-section"><view class="disclaimer-title">郑重声明</view><view class="disclaimer-content"><text class="disclaimer-text">1. 本产品仅供娱乐体验，请遵守相关安全规定</text><text class="disclaimer-text">2. 体验前请仔细阅读安全须知，确保身体健康</text><text class="disclaimer-text">3. 未成年人请在监护人陪同下体验</text><text class="disclaimer-text">4. 如有身体不适请立即停止体验并告知工作人员</text><text class="disclaimer-text">5. 本店保留最终解释权</text></view></view></view><view class="next-step"><button class="next-btn" bindtap="{{t}}">下一步：选择预订</button></view></view><view wx:if="{{v}}" class="booking-page"><view class="back-btn" bindtap="{{w}}"><text class="back-icon">←</text><text>返回产品详情</text></view><view class="package-section"><view class="section-title">选择按小时和套餐</view><view style="background:#f0f0f0;padding:10rpx;margin-bottom:20rpx;font-size:24rpx;color:#666"> 当前选中套餐: {{x}}</view><view class="package-options"><view bindtap="{{z}}" class="{{['package-option', A && 'selected']}}"><view class="package-header"><text class="package-name">按小时计费</text><text class="package-price">¥{{y}}/小时</text></view><text class="package-desc">灵活选择时间，按实际使用时长计费</text></view><view bindtap="{{C}}" class="{{['package-option', D && 'selected']}}"><view class="package-header"><text class="package-name">套餐一：基础体验</text><text class="package-price">¥{{B}}</text></view><text class="package-desc">包含2小时体验时间，适合初次体验</text></view><view bindtap="{{F}}" class="{{['package-option', G && 'selected']}}"><view class="package-header"><text class="package-name">套餐二：进阶体验</text><text class="package-price">¥{{E}}</text></view><text class="package-desc">包含4小时体验时间，深度体验推荐</text></view><view bindtap="{{I}}" class="{{['package-option', J && 'selected']}}"><view class="package-header"><text class="package-name">套餐三：豪华体验</text><text class="package-price">¥{{H}}</text></view><text class="package-desc">包含6小时体验时间，极致体验享受</text></view></view></view><view class="time-section"><view style="background:#f0f0f0;padding:10rpx;margin-bottom:20rpx;font-size:24rpx;color:#666"> 调试信息: selectedPackageType = {{K}}</view><view class="section-title">选择时间</view><view class="time-selector"><view class="date-selector"><text class="selector-label">选择日期</text><picker mode="date" value="{{M}}" bindchange="{{N}}"><view class="picker-btn">{{L}}</view></picker></view><view class="time-range-section"><view class="time-range-row"><view class="time-picker-item"><text class="selector-label">开始时间</text><picker value="{{Q}}" range="{{R}}" bindchange="{{S}}"><view class="{{['picker-btn', P && 'placeholder']}}">{{O}}</view></picker></view><view class="time-separator"><text>至</text></view><view class="time-picker-item"><text class="selector-label">结束时间</text><picker value="{{W}}" range="{{X}}" bindchange="{{Y}}" disabled="{{Z}}"><view class="{{['picker-btn', U && 'placeholder', V && 'disabled']}}">{{T}}</view></picker></view></view><view wx:if="{{aa}}" class="duration-info"><text class="duration-text">预计时长：{{ab}}小时</text></view><view class="time-visual-section"><text class="selector-label">时间段状态</text><view class="time-visual-grid"><view wx:for="{{ac}}" wx:for-item="hour" wx:key="c" class="{{['time-visual-item', hour.d]}}" bindtap="{{hour.e}}"><text class="hour-text">{{hour.a}}:00</text><view class="{{['status-dot', hour.b]}}"></view></view></view><view class="time-legend"><view class="legend-item"><view class="legend-dot available"></view><text class="legend-text">可预约</text></view><view class="legend-item"><view class="legend-dot booked"></view><text class="legend-text">已预订</text></view><view class="legend-item"><view class="legend-dot cleaning"></view><text class="legend-text">保洁时间</text></view></view></view></view></view></view><view class="room-section"><view class="section-title">选择房间</view><view class="room-list"><view wx:for="{{ad}}" wx:for-item="room" wx:key="f" class="{{['room-item', room.g && 'selected', room.h && 'unavailable']}}" bindtap="{{room.i}}"><view class="room-info"><text class="room-name">{{room.a}}</text><text class="room-capacity">容纳人数：{{room.b}}人</text><text class="room-features">设施：{{room.c}}</text></view><view class="{{['room-status', room.e]}}">{{room.d}}</view></view></view><view wx:if="{{ae}}" class="room-images"><view class="section-subtitle">房间详情</view><swiper class="room-swiper" indicator-dots="{{true}}" autoplay="{{false}}" indicator-color="rgba(255,255,255,0.6)" indicator-active-color="#FF69B4"><swiper-item wx:for="{{af}}" wx:for-item="image" wx:key="b"><image src="{{image.a}}" class="swiper-image" mode="aspectFill"></image></swiper-item></swiper></view></view><view class="confirm-booking"><button class="{{['confirm-btn', ah && 'disabled']}}" bindtap="{{ai}}" disabled="{{aj}}">{{ag}}</button></view><view wx:if="{{ak}}" class="selection-status"><view class="{{['status-item', am && 'completed']}}"><text class="status-icon">{{al}}</text><text class="status-text">选择套餐</text></view><view class="{{['status-item', ao && 'completed']}}"><text class="status-icon">{{an}}</text><text class="status-text">选择时间</text></view><view class="{{['status-item', aq && 'completed']}}"><text class="status-icon">{{ap}}</text><text class="status-text">选择房间</text></view></view></view></view>