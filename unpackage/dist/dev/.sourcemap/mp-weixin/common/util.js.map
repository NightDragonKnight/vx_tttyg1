{"version":3,"file":"util.js","sources":["common/util.js"],"sourcesContent":["function formatTime(time) {\r\n\tif (typeof time !== 'number' || time < 0) {\r\n\t\treturn time\r\n\t}\r\n\r\n\tvar hour = parseInt(time / 3600)\r\n\ttime = time % 3600\r\n\tvar minute = parseInt(time / 60)\r\n\ttime = time % 60\r\n\tvar second = time\r\n\r\n\treturn ([hour, minute, second]).map(function(n) {\r\n\t\tn = n.toString()\r\n\t\treturn n[1] ? n : '0' + n\r\n\t}).join(':')\r\n}\r\n\r\nfunction formatLocation(longitude, latitude) {\r\n\tif (typeof longitude === 'string' && typeof latitude === 'string') {\r\n\t\tlongitude = parseFloat(longitude)\r\n\t\tlatitude = parseFloat(latitude)\r\n\t}\r\n\r\n\tlongitude = longitude.toFixed(2)\r\n\tlatitude = latitude.toFixed(2)\r\n\r\n\treturn {\r\n\t\tlongitude: longitude.toString().split('.'),\r\n\t\tlatitude: latitude.toString().split('.')\r\n\t}\r\n}\r\nvar dateUtils = {\r\n\tUNITS: {\r\n\t\t'年': 31557600000,\r\n\t\t'月': 2629800000,\r\n\t\t'天': 86400000,\r\n\t\t'小时': 3600000,\r\n\t\t'分钟': 60000,\r\n\t\t'秒': 1000\r\n\t},\r\n\thumanize: function(milliseconds) {\r\n\t\tvar humanize = '';\r\n\t\tfor (var key in this.UNITS) {\r\n\t\t\tif (milliseconds >= this.UNITS[key]) {\r\n\t\t\t\thumanize = Math.floor(milliseconds / this.UNITS[key]) + key + '前';\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn humanize || '刚刚';\r\n\t},\r\n\tformat: function(dateStr) {\r\n\t\tvar date = this.parse(dateStr)\r\n\t\tvar diff = Date.now() - date.getTime();\r\n\t\tif (diff < this.UNITS['天']) {\r\n\t\t\treturn this.humanize(diff);\r\n\t\t}\r\n\t\tvar _format = function(number) {\r\n\t\t\treturn (number < 10 ? ('0' + number) : number);\r\n\t\t};\r\n\t\treturn date.getFullYear() + '/' + _format(date.getMonth() + 1) + '/' + _format(date.getDate()) + '-' +\r\n\t\t\t_format(date.getHours()) + ':' + _format(date.getMinutes());\r\n\t},\r\n\tparse: function(str) { //将\"yyyy-mm-dd HH:MM:ss\"格式的字符串，转化为一个Date对象\r\n\t\tvar a = str.split(/[^0-9]/);\r\n\t\treturn new Date(a[0], a[1] - 1, a[2], a[3], a[4], a[5]);\r\n\t}\r\n};\r\n\r\nexport {\r\n\tformatTime,\r\n\tformatLocation,\r\n\tdateUtils\r\n}\n"],"names":[],"mappings":";AAAA,SAAS,WAAW,MAAM;AACzB,MAAI,OAAO,SAAS,YAAY,OAAO,GAAG;AACzC,WAAO;AAAA,EACP;AAED,MAAI,OAAO,SAAS,OAAO,IAAI;AAC/B,SAAO,OAAO;AACd,MAAI,SAAS,SAAS,OAAO,EAAE;AAC/B,SAAO,OAAO;AACd,MAAI,SAAS;AAEb,SAAQ,CAAC,MAAM,QAAQ,MAAM,EAAG,IAAI,SAAS,GAAG;AAC/C,QAAI,EAAE,SAAU;AAChB,WAAO,EAAE,CAAC,IAAI,IAAI,MAAM;AAAA,EAC1B,CAAE,EAAE,KAAK,GAAG;AACZ;AAEA,SAAS,eAAe,WAAW,UAAU;AAC5C,MAAI,OAAO,cAAc,YAAY,OAAO,aAAa,UAAU;AAClE,gBAAY,WAAW,SAAS;AAChC,eAAW,WAAW,QAAQ;AAAA,EAC9B;AAED,cAAY,UAAU,QAAQ,CAAC;AAC/B,aAAW,SAAS,QAAQ,CAAC;AAE7B,SAAO;AAAA,IACN,WAAW,UAAU,WAAW,MAAM,GAAG;AAAA,IACzC,UAAU,SAAS,WAAW,MAAM,GAAG;AAAA,EACvC;AACF;AACG,IAAC,YAAY;AAAA,EACf,OAAO;AAAA,IACN,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,MAAM;AAAA,IACN,MAAM;AAAA,IACN,KAAK;AAAA,EACL;AAAA,EACD,UAAU,SAAS,cAAc;AAChC,QAAI,WAAW;AACf,aAAS,OAAO,KAAK,OAAO;AAC3B,UAAI,gBAAgB,KAAK,MAAM,GAAG,GAAG;AACpC,mBAAW,KAAK,MAAM,eAAe,KAAK,MAAM,GAAG,CAAC,IAAI,MAAM;AAC9D;AAAA,MACA;AAAA,IACD;AACD,WAAO,YAAY;AAAA,EACnB;AAAA,EACD,QAAQ,SAAS,SAAS;AACzB,QAAI,OAAO,KAAK,MAAM,OAAO;AAC7B,QAAI,OAAO,KAAK,IAAK,IAAG,KAAK,QAAO;AACpC,QAAI,OAAO,KAAK,MAAM,GAAG,GAAG;AAC3B,aAAO,KAAK,SAAS,IAAI;AAAA,IACzB;AACD,QAAI,UAAU,SAAS,QAAQ;AAC9B,aAAQ,SAAS,KAAM,MAAM,SAAU;AAAA,IAC1C;AACE,WAAO,KAAK,YAAa,IAAG,MAAM,QAAQ,KAAK,SAAQ,IAAK,CAAC,IAAI,MAAM,QAAQ,KAAK,QAAO,CAAE,IAAI,MAChG,QAAQ,KAAK,UAAU,IAAI,MAAM,QAAQ,KAAK,WAAU,CAAE;AAAA,EAC3D;AAAA,EACD,OAAO,SAAS,KAAK;AACpB,QAAI,IAAI,IAAI,MAAM,QAAQ;AAC1B,WAAO,IAAI,KAAK,EAAE,CAAC,GAAG,EAAE,CAAC,IAAI,GAAG,EAAE,CAAC,GAAG,EAAE,CAAC,GAAG,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC;AAAA,EACtD;AACF;;;;"}