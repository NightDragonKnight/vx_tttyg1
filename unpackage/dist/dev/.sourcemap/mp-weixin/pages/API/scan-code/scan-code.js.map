{"version":3,"file":"scan-code.js","sources":["pages/API/scan-code/scan-code.vue","../../../../../Work-Tools/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXNcQVBJXHNjYW4tY29kZVxzY2FuLWNvZGUudnVl"],"sourcesContent":["<template>\r\n\t<view>\r\n\t\t<page-head :title=\"title\"></page-head>\r\n\t\t<view class=\"uni-padding-wrap uni-common-mt\">\r\n\t\t\t<view class=\"uni-title\">扫码结果：</view>\r\n\t\t\t<view class=\"uni-list\" v-if=\"result\">\r\n\t\t\t\t<view class=\"uni-cell\">\r\n\t\t\t\t\t<view class=\"scan-result\">\r\n\t\t\t\t\t\t{{result}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"uni-btn-v\">\r\n\t\t\t\t<button type=\"primary\" @click=\"scan\">扫一扫</button>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n<script>\r\n\timport permision from \"@/common/permission.js\"\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\ttitle: 'scanCode',\r\n\t\t\t\tresult: ''\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tasync scan() {\r\n\t\t\t\t// #ifdef APP-PLUS\r\n\t\t\t\tlet status = await this.checkPermission();\r\n\t\t\t\tif (status !== 1) {\r\n\t\t\t\t    return;\r\n\t\t\t\t}\r\n\t\t\t\t// #endif\r\n\t\t\t\tuni.scanCode({\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tthis.result = res.result\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\t// 需要注意的是小程序扫码不需要申请相机权限\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t// #ifdef APP-PLUS\r\n\t\t\t,\r\n\t\t\tasync checkPermission(code) {\r\n\t\t\t\tlet status = permision.isIOS ? await permision.requestIOS('camera') :\r\n\t\t\t\t\tawait permision.requestAndroid('android.permission.CAMERA');\r\n\r\n\t\t\t\tif (status === null || status === 1) {\r\n\t\t\t\t\tstatus = 1;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\tcontent: \"需要相机权限\",\r\n\t\t\t\t\t\tconfirmText: \"设置\",\r\n\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\tpermision.gotoAppSetting();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\treturn status;\r\n\t\t\t}\r\n\t\t\t// #endif\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.scan-result {\r\n\t\tmin-height: 50rpx;\r\n\t\tline-height: 50rpx;\r\n\t}\r\n</style>\r\n","import MiniProgramPage from 'D:/workspace/2025/wx/wx20250829/天天体验馆/pages/API/scan-code/scan-code.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":";;AAoBC,MAAK,YAAU;AAAA,EACd,OAAO;AACN,WAAO;AAAA,MACN,OAAO;AAAA,MACP,QAAQ;AAAA,IACT;AAAA,EACA;AAAA,EACD,SAAS;AAAA,IACR,MAAM,OAAO;AAOZA,oBAAAA,MAAI,SAAS;AAAA,QACZ,SAAS,CAAC,QAAQ;AACjB,eAAK,SAAS,IAAI;AAAA,QAClB;AAAA,QACD,MAAM,CAAC,QAAQ;AAAA,QAEf;AAAA,MACD,CAAC;AAAA,IACF;AAAA,EAuBD;AACD;;;;;;;;;;;;;;;;;;;;;;AClED,GAAG,WAAW,eAAe;"}