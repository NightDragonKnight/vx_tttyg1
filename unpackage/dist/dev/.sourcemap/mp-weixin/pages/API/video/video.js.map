{"version":3,"file":"video.js","sources":["pages/API/video/video.vue","../../../../../Work-Tools/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXNcQVBJXHZpZGVvXHZpZGVvLnZ1ZQ"],"sourcesContent":["<template>\r\n\t<view>\r\n\t\t<page-head :title=\"title\"></page-head>\r\n\t\t<view class=\"uni-common-mt\">\r\n\t\t\t<view class=\"uni-list\">\r\n\t\t\t\t<view class=\"uni-list-cell\">\r\n\t\t\t\t\t<view class=\"uni-list-cell-left\">\r\n\t\t\t\t\t\t<view class=\"uni-label\">视频来源</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"uni-list-cell-right\">\r\n\t\t\t\t\t\t<picker :range=\"sourceType\" @change=\"sourceTypeChange\" :value=\"sourceTypeIndex\">\r\n\t\t\t\t\t\t\t<view class=\"uni-input\">{{sourceType[sourceTypeIndex]}}</view>\r\n\t\t\t\t\t\t</picker>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- #ifdef APP-PLUS || MP-WEIXIN -->\r\n\t\t<view class=\"uni-title uni-common-mt uni-common-pl\">摄像头位置</view>\r\n\t\t<view class=\"uni-hello-text camera-tips\">注意：部分 Android 手机下由于系统 ROM 不支持无法生效，打开拍摄界面后可操作切换</view>\r\n\t\t<view class=\"uni-list\">\r\n\t\t\t<radio-group @change=\"radioChange\">\r\n\t\t\t\t<label class=\"uni-list-cell uni-list-cell-pd\" v-for=\"(item, index) in cameraList\" :key=\"item.value\">\r\n\t\t\t\t\t<radio :value=\"item.value\" :checked=\"index === cameraIndex\">{{item.name}}</radio>\r\n\t\t\t\t</label>\r\n\t\t\t</radio-group>\r\n\t\t</view>\r\n\t\t<!-- #endif -->\r\n\t\t<template v-if=\"!src\">\r\n\t\t\t<view class=\"uni-hello-addfile\" @tap=\"chooseVideo\">+ 添加视频</view>\r\n\t\t</template>\r\n\t\t<template v-else>\r\n\t\t\t<video :src=\"src\" class=\"video\"></video>\r\n\t\t</template>\r\n\t</view>\r\n</template>\r\n<script>\r\n\tvar sourceType = [\r\n\t\t['camera'],\r\n\t\t['album'],\r\n\t\t['camera', 'album']\r\n\t]\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\ttitle: 'chooseVideo',\r\n\t\t\t\tsourceTypeIndex: 2,\r\n\t\t\t\tsourceType: ['拍摄', '相册', '拍摄或相册'],\r\n\t\t\t\tsrc: '',\r\n\t\t\t\tcameraList: [{\r\n\t\t\t\t\t\tvalue: 'back',\r\n\t\t\t\t\t\tname: '后置摄像头',\r\n\t\t\t\t\t\tchecked: 'true'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvalue: 'front',\r\n\t\t\t\t\t\tname: '前置摄像头'\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t\tcameraIndex: 0\r\n\t\t\t}\r\n\t\t},\r\n\t\tonUnload() {\r\n\t\t\tthis.src = '',\r\n\t\t\t\tthis.sourceTypeIndex = 2,\r\n\t\t\t\tthis.sourceType = ['拍摄', '相册', '拍摄或相册'];\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tradioChange(evt) {\r\n\t\t\t\tfor (let i = 0; i < this.cameraList.length; i++) {\r\n\t\t\t\t\tif (this.cameraList[i].value === evt.detail.value) {\r\n\t\t\t\t\t\tthis.cameraIndex = i;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tsourceTypeChange: function(e) {\r\n\t\t\t\tthis.sourceTypeIndex = parseInt(e.detail.value)\r\n\t\t\t},\r\n\t\t\tchooseVideo: function() {\r\n\t\t\t\tuni.chooseVideo({\r\n\t\t\t\t\tcamera: this.cameraList[this.cameraIndex].value,\r\n\t\t\t\t\tsourceType: sourceType[this.sourceTypeIndex],\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tthis.src = res.tempFilePath\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\t// #ifdef MP\r\n\t\t\t\t\t\tuni.getSetting({\r\n\t\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t\tlet authStatus = false;\r\n\t\t\t\t\t\t\t\tswitch (this.sourceTypeIndex) {\r\n\t\t\t\t\t\t\t\t\tcase 0:\r\n\t\t\t\t\t\t\t\t\t\tauthStatus = res.authSetting['scope.camera'];\r\n\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\tcase 1:\r\n\t\t\t\t\t\t\t\t\t\tauthStatus = res.authSetting['scope.album'];\r\n\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\tcase 2:\r\n\t\t\t\t\t\t\t\t\t\tauthStatus = res.authSetting['scope.album'] && res.authSetting['scope.camera'];\r\n\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (!authStatus) {\r\n\t\t\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\t\t\ttitle: '授权失败',\r\n\t\t\t\t\t\t\t\t\t\tcontent: 'Hello uni-app需要从您的相机或相册获取视频，请在设置界面打开相关权限',\r\n\t\t\t\t\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tuni.openSetting()\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.video {\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t.camera-tips {\r\n\t\tpadding: 10rpx 30rpx;\r\n\t}\r\n</style>\r\n","import MiniProgramPage from 'D:/workspace/2025/wx/wx20250829/天天体验馆/pages/API/video/video.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","res"],"mappings":";;AAqCC,IAAI,aAAa;AAAA,EAChB,CAAC,QAAQ;AAAA,EACT,CAAC,OAAO;AAAA,EACR,CAAC,UAAU,OAAO;AACnB;AACA,MAAK,YAAU;AAAA,EACd,OAAO;AACN,WAAO;AAAA,MACN,OAAO;AAAA,MACP,iBAAiB;AAAA,MACjB,YAAY,CAAC,MAAM,MAAM,OAAO;AAAA,MAChC,KAAK;AAAA,MACL,YAAY;AAAA,QAAC;AAAA,UACX,OAAO;AAAA,UACP,MAAM;AAAA,UACN,SAAS;AAAA,QACT;AAAA,QACD;AAAA,UACC,OAAO;AAAA,UACP,MAAM;AAAA,QACN;AAAA,MACD;AAAA,MACD,aAAa;AAAA,IACd;AAAA,EACA;AAAA,EACD,WAAW;AACV,SAAK,MAAM,IACV,KAAK,kBAAkB,GACvB,KAAK,aAAa,CAAC,MAAM,MAAM,OAAO;AAAA,EACvC;AAAA,EACD,SAAS;AAAA,IACR,YAAY,KAAK;AAChB,eAAS,IAAI,GAAG,IAAI,KAAK,WAAW,QAAQ,KAAK;AAChD,YAAI,KAAK,WAAW,CAAC,EAAE,UAAU,IAAI,OAAO,OAAO;AAClD,eAAK,cAAc;AACnB;AAAA,QACD;AAAA,MACD;AAAA,IACA;AAAA,IACD,kBAAkB,SAAS,GAAG;AAC7B,WAAK,kBAAkB,SAAS,EAAE,OAAO,KAAK;AAAA,IAC9C;AAAA,IACD,aAAa,WAAW;AACvBA,oBAAAA,MAAI,YAAY;AAAA,QACf,QAAQ,KAAK,WAAW,KAAK,WAAW,EAAE;AAAA,QAC1C,YAAY,WAAW,KAAK,eAAe;AAAA,QAC3C,SAAS,CAAC,QAAQ;AACjB,eAAK,MAAM,IAAI;AAAA,QACf;AAAA,QACD,MAAM,CAAC,QAAQ;AAEdA,wBAAAA,MAAI,WAAW;AAAA,YACd,SAAS,CAAC,QAAQ;AACjB,kBAAI,aAAa;AACjB,sBAAQ,KAAK,iBAAe;AAAA,gBAC3B,KAAK;AACJ,+BAAa,IAAI,YAAY,cAAc;AAC3C;AAAA,gBACD,KAAK;AACJ,+BAAa,IAAI,YAAY,aAAa;AAC1C;AAAA,gBACD,KAAK;AACJ,+BAAa,IAAI,YAAY,aAAa,KAAK,IAAI,YAAY,cAAc;AAC7E;AAAA,cAGF;AACA,kBAAI,CAAC,YAAY;AAChBA,8BAAAA,MAAI,UAAU;AAAA,kBACb,OAAO;AAAA,kBACP,SAAS;AAAA,kBACT,SAAS,CAACC,SAAQ;AACjB,wBAAIA,KAAI,SAAS;AAChBD,oCAAAA,MAAI,YAAY;AAAA,oBACjB;AAAA,kBACD;AAAA,iBACA;AAAA,cACF;AAAA,YACD;AAAA,WACA;AAAA,QAEF;AAAA,OACA;AAAA,IACF;AAAA,EACD;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzHD,GAAG,WAAW,eAAe;"}