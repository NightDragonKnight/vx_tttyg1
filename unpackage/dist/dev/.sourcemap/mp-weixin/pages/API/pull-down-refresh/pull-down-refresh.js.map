{"version":3,"file":"pull-down-refresh.js","sources":["pages/API/pull-down-refresh/pull-down-refresh.vue","../../../../../Work-Tools/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXNcQVBJXHB1bGwtZG93bi1yZWZyZXNoXHB1bGwtZG93bi1yZWZyZXNoLnZ1ZQ"],"sourcesContent":["<template>\r\n\t<view>\r\n\t\t<page-head :title=\"title\"></page-head>\n\t\t<view class=\"uni-padding-wrap uni-common-mt\">\n\t\t\t<view style=\"font-size: 12px; color: #666;\">注：PC 不支持下拉刷新</view>\r\n\t\t\t<view class=\"text\" v-for=\"(num,index) in data\" :key=\"index\">list - {{num}}</view>\r\n\t\t\t<view class=\"uni-loadmore\" v-if=\"showLoadMore\">{{loadMoreText}}</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\ttitle: '下拉刷新 + 加载更多',\r\n\t\t\t\tdata: [],\r\n\t\t\t\tloadMoreText: \"加载中...\",\r\n\t\t\t\tshowLoadMore: false,\r\n\t\t\t\tmax: 0\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\tthis.initData();\r\n\t\t},\r\n\t\tonUnload() {\r\n\t\t\tthis.max = 0,\r\n\t\t\tthis.data = [],\r\n\t\t\tthis.loadMoreText = \"加载更多\",\r\n\t\t\tthis.showLoadMore = false;\r\n\t\t},\r\n\t\tonReachBottom() {\r\n\t\t\tconsole.log(\"onReachBottom\");\r\n\t\t\tif (this.max > 40) {\r\n\t\t\t\tthis.loadMoreText = \"没有更多数据了!\"\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.showLoadMore = true;\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis.setListData();\r\n\t\t\t}, 300);\r\n\t\t},\r\n\t\tonPullDownRefresh() {\r\n\t\t\tconsole.log('onPullDownRefresh');\r\n\t\t\tthis.initData();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tinitData(){\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.max = 0;\r\n\t\t\t\t\tthis.data = [];\r\n\t\t\t\t\tlet data = [];\r\n\t\t\t\t\tthis.max += 20;\r\n\t\t\t\t\tfor (var i = this.max - 19; i < this.max + 1; i++) {\r\n\t\t\t\t\t\tdata.push(i)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.data = this.data.concat(data);\r\n\t\t\t\t\tuni.stopPullDownRefresh();\r\n\t\t\t\t}, 300);\r\n\t\t\t},\r\n\t\t\tsetListData() {\r\n\t\t\t\tlet data = [];\r\n\t\t\t\tthis.max += 10;\r\n\t\t\t\tfor (var i = this.max - 9; i < this.max + 1; i++) {\r\n\t\t\t\t\tdata.push(i)\r\n\t\t\t\t}\r\n\t\t\t\tthis.data = this.data.concat(data);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.text {\r\n\t\tmargin: 16rpx 0;\r\n\t\twidth:100%;\r\n\t\tbackground-color: #fff;\r\n\t\theight: 120rpx;\r\n\t\tline-height: 120rpx;\r\n\t\ttext-align: center;\r\n\t\tcolor: #555;\r\n\t\tborder-radius: 8rpx;\r\n\t}\r\n</style>\r\n","import MiniProgramPage from 'D:/workspace/2025/wx/wx20250829/天天体验馆/pages/API/pull-down-refresh/pull-down-refresh.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":";;AAWC,MAAK,YAAU;AAAA,EACd,OAAO;AACN,WAAO;AAAA,MACN,OAAO;AAAA,MACP,MAAM,CAAE;AAAA,MACR,cAAc;AAAA,MACd,cAAc;AAAA,MACd,KAAK;AAAA,IACN;AAAA,EACA;AAAA,EACD,SAAS;AACR,SAAK,SAAQ;AAAA,EACb;AAAA,EACD,WAAW;AACV,SAAK,MAAM,GACX,KAAK,OAAO,CAAE,GACd,KAAK,eAAe,QACpB,KAAK,eAAe;AAAA,EACpB;AAAA,EACD,gBAAgB;AACfA,kBAAAA,MAAY,MAAA,OAAA,2DAAA,eAAe;AAC3B,QAAI,KAAK,MAAM,IAAI;AAClB,WAAK,eAAe;AACpB;AAAA,IACD;AACA,SAAK,eAAe;AACpB,eAAW,MAAM;AAChB,WAAK,YAAW;AAAA,IAChB,GAAE,GAAG;AAAA,EACN;AAAA,EACD,oBAAoB;AACnBA,kBAAAA,MAAA,MAAA,OAAA,2DAAY,mBAAmB;AAC/B,SAAK,SAAQ;AAAA,EACb;AAAA,EACD,SAAS;AAAA,IACR,WAAU;AACT,iBAAW,MAAM;AAChB,aAAK,MAAM;AACX,aAAK,OAAO;AACZ,YAAI,OAAO,CAAA;AACX,aAAK,OAAO;AACZ,iBAAS,IAAI,KAAK,MAAM,IAAI,IAAI,KAAK,MAAM,GAAG,KAAK;AAClD,eAAK,KAAK,CAAC;AAAA,QACZ;AACA,aAAK,OAAO,KAAK,KAAK,OAAO,IAAI;AACjCA,sBAAG,MAAC,oBAAmB;AAAA,MACvB,GAAE,GAAG;AAAA,IACN;AAAA,IACD,cAAc;AACb,UAAI,OAAO,CAAA;AACX,WAAK,OAAO;AACZ,eAAS,IAAI,KAAK,MAAM,GAAG,IAAI,KAAK,MAAM,GAAG,KAAK;AACjD,aAAK,KAAK,CAAC;AAAA,MACZ;AACA,WAAK,OAAO,KAAK,KAAK,OAAO,IAAI;AAAA,IAClC;AAAA,EACD;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;ACnED,GAAG,WAAW,eAAe;"}