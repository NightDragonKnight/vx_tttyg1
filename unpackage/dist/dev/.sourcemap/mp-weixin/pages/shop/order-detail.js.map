{"version":3,"file":"order-detail.js","sources":["pages/shop/order-detail.vue","../../../../../Work-Tools/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvc2hvcC9vcmRlci1kZXRhaWwudnVl"],"sourcesContent":["<template>\r\n\t<view class=\"content\">\r\n\t\t<!-- 订单状态 -->\r\n\t\t<view class=\"status-section\">\r\n\t\t\t<view class=\"status-info\">\r\n\t\t\t\t<text class=\"status-text\">{{orderInfo.statusText}}</text>\r\n\t\t\t\t<text class=\"status-desc\">{{orderInfo.statusDesc}}</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 订单信息 -->\r\n\t\t<view class=\"order-section\">\r\n\t\t\t<view class=\"section-title\">订单信息</view>\r\n\t\t\t<view class=\"order-info\">\r\n\t\t\t\t<view class=\"info-item\">\r\n\t\t\t\t\t<text class=\"info-label\">订单号：</text>\r\n\t\t\t\t\t<text class=\"info-value\">{{orderInfo.orderNo}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"info-item\">\r\n\t\t\t\t\t<text class=\"info-label\">下单时间：</text>\r\n\t\t\t\t\t<text class=\"info-value\">{{orderInfo.createTime}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"info-item\">\r\n\t\t\t\t\t<text class=\"info-label\">支付方式：</text>\r\n\t\t\t\t\t<text class=\"info-value\">{{orderInfo.paymentName}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 收货地址 -->\r\n\t\t<view class=\"address-section\">\r\n\t\t\t<view class=\"section-title\">收货地址</view>\r\n\t\t\t<view class=\"address-info\">\r\n\t\t\t\t<text class=\"contact-name\">{{orderInfo.address.name}}</text>\r\n\t\t\t\t<text class=\"contact-phone\">{{orderInfo.address.phone}}</text>\r\n\t\t\t\t<text class=\"address-detail\">{{orderInfo.address.address}}</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 商品列表 -->\r\n\t\t<view class=\"products-section\">\r\n\t\t\t<view class=\"section-title\">商品信息</view>\r\n\t\t\t<view class=\"product-list\">\r\n\t\t\t\t<view class=\"product-item\" v-for=\"(item, index) in orderInfo.items\" :key=\"index\">\r\n\t\t\t\t\t<image :src=\"item.image\" class=\"product-image\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t<view class=\"product-info\">\r\n\t\t\t\t\t\t<text class=\"product-name\">{{item.name}}</text>\r\n\t\t\t\t\t\t<text class=\"product-spec\" v-if=\"item.specName\">规格：{{item.specName}}</text>\r\n\t\t\t\t\t\t<view class=\"product-price-section\">\r\n\t\t\t\t\t\t\t<text class=\"product-price\">¥{{item.price}}</text>\r\n\t\t\t\t\t\t\t<text class=\"product-quantity\">x{{item.quantity}}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 价格明细 -->\r\n\t\t<view class=\"price-section\">\r\n\t\t\t<view class=\"section-title\">价格明细</view>\r\n\t\t\t<view class=\"price-list\">\r\n\t\t\t\t<view class=\"price-item\">\r\n\t\t\t\t\t<text>商品总价</text>\r\n\t\t\t\t\t<text class=\"price-value\">¥{{orderInfo.totalPrice}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"price-item\" v-if=\"orderInfo.deliveryFee > 0\">\r\n\t\t\t\t\t<text>配送费</text>\r\n\t\t\t\t\t<text class=\"price-value\">¥{{orderInfo.deliveryFee}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"price-item total\">\r\n\t\t\t\t\t<text>实付金额</text>\r\n\t\t\t\t\t<text class=\"final-price\">¥{{orderInfo.finalPrice}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 底部操作栏 -->\r\n\t\t<view class=\"bottom-bar\">\r\n\t\t\t<button class=\"action-btn secondary\" @click=\"viewLogistics\" v-if=\"orderInfo.status === 'shipped'\">\r\n\t\t\t\t查看物流\r\n\t\t\t</button>\r\n\t\t\t<button class=\"action-btn primary\" @click=\"confirmReceive\" v-if=\"orderInfo.status === 'shipped'\">\r\n\t\t\t\t确认收货\r\n\t\t\t</button>\r\n\t\t\t<button class=\"action-btn primary\" @click=\"writeReview\" v-if=\"orderInfo.status === 'completed'\">\r\n\t\t\t\t评价商品\r\n\t\t\t</button>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\torderNo: '',\r\n\t\t\t\torderInfo: {\r\n\t\t\t\t\torderNo: '',\r\n\t\t\t\t\tstatus: 'pending',\r\n\t\t\t\t\tstatusText: '待付款',\r\n\t\t\t\t\tstatusDesc: '请尽快完成支付',\r\n\t\t\t\t\tcreateTime: '',\r\n\t\t\t\t\tpaymentName: '',\r\n\t\t\t\t\taddress: {},\r\n\t\t\t\t\titems: [],\r\n\t\t\t\t\ttotalPrice: '0.00',\r\n\t\t\t\t\tdeliveryFee: 0,\r\n\t\t\t\t\tfinalPrice: '0.00'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(options) {\r\n\t\t\tif (options.orderNo) {\r\n\t\t\t\tthis.orderNo = options.orderNo;\r\n\t\t\t\tthis.loadOrderDetail();\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 加载订单详情\r\n\t\t\tloadOrderDetail() {\r\n\t\t\t\tconst orders = uni.getStorageSync('shop_orders') || [];\r\n\t\t\t\tconst order = orders.find(o => o.orderNo === this.orderNo);\r\n\t\t\t\t\r\n\t\t\t\tif (order) {\r\n\t\t\t\t\tthis.orderInfo = {\r\n\t\t\t\t\t\torderNo: order.orderNo,\r\n\t\t\t\t\t\tstatus: 'paid', // 模拟已支付状态\r\n\t\t\t\t\t\tstatusText: '已付款',\r\n\t\t\t\t\t\tstatusDesc: '商家正在处理您的订单',\r\n\t\t\t\t\t\tcreateTime: this.formatTime(order.createTime),\r\n\t\t\t\t\t\tpaymentName: order.payment.name,\r\n\t\t\t\t\t\taddress: order.address,\r\n\t\t\t\t\t\titems: order.items,\r\n\t\t\t\t\t\ttotalPrice: order.totalPrice,\r\n\t\t\t\t\t\tdeliveryFee: order.deliveryFee,\r\n\t\t\t\t\t\tfinalPrice: order.finalPrice\r\n\t\t\t\t\t};\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '订单不存在',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tuni.navigateBack();\r\n\t\t\t\t\t}, 1500);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 格式化时间\r\n\t\t\tformatTime(timeStr) {\r\n\t\t\t\tconst date = new Date(timeStr);\r\n\t\t\t\treturn `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}-${String(date.getDate()).padStart(2, '0')} ${String(date.getHours()).padStart(2, '0')}:${String(date.getMinutes()).padStart(2, '0')}`;\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 查看物流\r\n\t\t\tviewLogistics() {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '查看物流',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 确认收货\r\n\t\t\tconfirmReceive() {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '确认收货',\r\n\t\t\t\t\tcontent: '确认已收到商品吗？',\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\tthis.orderInfo.status = 'completed';\r\n\t\t\t\t\t\t\tthis.orderInfo.statusText = '已完成';\r\n\t\t\t\t\t\t\tthis.orderInfo.statusDesc = '订单已完成，感谢您的购买';\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '确认收货成功',\r\n\t\t\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 评价商品\r\n\t\t\twriteReview() {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '评价功能',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.content {\r\n\t\tbackground-color: #fef8fa; // 更淡的浅粉色背景\r\n\t\tmin-height: 100vh;\r\n\t\tpadding-bottom: 120rpx;\r\n\t}\r\n\t\r\n\t/* 状态区域 */\r\n\t.status-section {\r\n\t\tbackground: linear-gradient(135deg, #FFB6C1 0%, #FFC0CB 100%); // 更淡的粉色渐变\r\n\t\tpadding: 60rpx 30rpx;\r\n\t\tcolor: #fff;\r\n\t\t\r\n\t\t.status-info {\r\n\t\t\ttext-align: center;\r\n\t\t\t\r\n\t\t\t.status-text {\r\n\t\t\t\tfont-size: 36rpx;\r\n\t\t\t\tfont-weight: bold;\r\n\t\t\t\tdisplay: block;\r\n\t\t\t\tmargin-bottom: 10rpx;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t.status-desc {\r\n\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\topacity: 0.9;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t/* 通用样式 */\r\n\t.section-title {\r\n\t\tfont-size: 32rpx;\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #333;\r\n\t\tmargin-bottom: 20rpx;\r\n\t}\r\n\t\r\n\t/* 订单信息 */\r\n\t.order-section {\r\n\t\tbackground-color: #fff;\r\n\t\tpadding: 30rpx;\r\n\t\tmargin-bottom: 20rpx;\r\n\t\t\r\n\t\t.order-info {\r\n\t\t\t.info-item {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: space-between;\r\n\t\t\t\tmargin-bottom: 15rpx;\r\n\t\t\t\t\r\n\t\t\t\t&:last-child {\r\n\t\t\t\t\tmargin-bottom: 0;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t.info-label {\r\n\t\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\t\tcolor: #666;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t.info-value {\r\n\t\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\t\tcolor: #333;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t/* 地址信息 */\r\n\t.address-section {\r\n\t\tbackground-color: #fff;\r\n\t\tpadding: 30rpx;\r\n\t\tmargin-bottom: 20rpx;\r\n\t\t\r\n\t\t.address-info {\r\n\t\t\t.contact-name {\r\n\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\tfont-weight: bold;\r\n\t\t\t\tcolor: #333;\r\n\t\t\t\tdisplay: block;\r\n\t\t\t\tmargin-bottom: 8rpx;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t.contact-phone {\r\n\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\tcolor: #666;\r\n\t\t\t\tdisplay: block;\r\n\t\t\t\tmargin-bottom: 8rpx;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t.address-detail {\r\n\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\tcolor: #333;\r\n\t\t\t\tline-height: 1.5;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t/* 商品列表 */\r\n\t.products-section {\r\n\t\tbackground-color: #fff;\r\n\t\tpadding: 30rpx;\r\n\t\tmargin-bottom: 20rpx;\r\n\t\t\r\n\t\t.product-list {\r\n\t\t\t.product-item {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tgap: 20rpx;\r\n\t\t\t\tpadding: 20rpx 0;\r\n\t\t\t\tborder-bottom: 1rpx solid #f0f0f0;\r\n\t\t\t\t\r\n\t\t\t\t&:last-child {\r\n\t\t\t\t\tborder-bottom: none;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t.product-image {\r\n\t\t\t\t\twidth: 100rpx;\r\n\t\t\t\t\theight: 100rpx;\r\n\t\t\t\t\tborder-radius: 8rpx;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t.product-info {\r\n\t\t\t\t\tflex: 1;\r\n\t\t\t\t\t\r\n\t\t\t\t\t.product-name {\r\n\t\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\t\tcolor: #333;\r\n\t\t\t\t\t\tdisplay: block;\r\n\t\t\t\t\t\tmargin-bottom: 8rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t.product-spec {\r\n\t\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\t\tcolor: #666;\r\n\t\t\t\t\t\tdisplay: block;\r\n\t\t\t\t\t\tmargin-bottom: 8rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t.product-price-section {\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\tjustify-content: space-between;\r\n\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t.product-price {\r\n\t\t\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t\t\t\tcolor: #FFB6C1; // 更淡的粉色\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t.product-quantity {\r\n\t\t\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\t\t\tcolor: #999;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t/* 价格明细 */\r\n\t.price-section {\r\n\t\tbackground-color: #fff;\r\n\t\tpadding: 30rpx;\r\n\t\t\r\n\t\t.price-list {\r\n\t\t\t.price-item {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: space-between;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tmargin-bottom: 15rpx;\r\n\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\tcolor: #666;\r\n\t\t\t\t\r\n\t\t\t\t&.total {\r\n\t\t\t\t\tmargin-top: 20rpx;\r\n\t\t\t\t\tpadding-top: 20rpx;\r\n\t\t\t\t\tborder-top: 1rpx solid #f0f0f0;\r\n\t\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t\tcolor: #333;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t.price-value {\r\n\t\t\t\t\tcolor: #FFB6C1; // 更淡的粉色\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t.final-price {\r\n\t\t\t\t\tcolor: #FFB6C1; // 更淡的粉色\r\n\t\t\t\t\tfont-size: 36rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t/* 底部操作栏 */\r\n\t.bottom-bar {\r\n\t\tposition: fixed;\r\n\t\tbottom: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tbackground-color: #fff;\r\n\t\tpadding: 20rpx 30rpx;\r\n\t\tborder-top: 1rpx solid #f0f0f0;\r\n\t\tdisplay: flex;\r\n\t\tgap: 20rpx;\r\n\t\t\r\n\t\t.action-btn {\r\n\t\t\tflex: 1;\r\n\t\t\theight: 80rpx;\r\n\t\t\tborder-radius: 40rpx;\r\n\t\t\tfont-size: 28rpx;\r\n\t\t\tfont-weight: bold;\r\n\t\t\t\r\n\t\t\t&.secondary {\r\n\t\t\t\tbackground-color: #fff;\r\n\t\t\t\tcolor: #FFB6C1; // 更淡的粉色\r\n\t\t\t\tborder: 2rpx solid #FFB6C1; // 更淡的粉色\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t&.primary {\r\n\t\t\t\tbackground-color: #FFB6C1; // 更淡的粉色\r\n\t\t\t\tcolor: #fff;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style> ","import MiniProgramPage from 'D:/workspace/2025/wx/wx20250829_1/vx_tttyg1/pages/shop/order-detail.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":";;AA4FC,MAAK,YAAU;AAAA,EACd,OAAO;AACN,WAAO;AAAA,MACN,SAAS;AAAA,MACT,WAAW;AAAA,QACV,SAAS;AAAA,QACT,QAAQ;AAAA,QACR,YAAY;AAAA,QACZ,YAAY;AAAA,QACZ,YAAY;AAAA,QACZ,aAAa;AAAA,QACb,SAAS,CAAE;AAAA,QACX,OAAO,CAAE;AAAA,QACT,YAAY;AAAA,QACZ,aAAa;AAAA,QACb,YAAY;AAAA,MACb;AAAA,IACD;AAAA,EACA;AAAA,EACD,OAAO,SAAS;AACf,QAAI,QAAQ,SAAS;AACpB,WAAK,UAAU,QAAQ;AACvB,WAAK,gBAAe;AAAA,IACrB;AAAA,EACA;AAAA,EACD,SAAS;AAAA;AAAA,IAER,kBAAkB;AACjB,YAAM,SAASA,cAAG,MAAC,eAAe,aAAa,KAAK,CAAA;AACpD,YAAM,QAAQ,OAAO,KAAK,OAAK,EAAE,YAAY,KAAK,OAAO;AAEzD,UAAI,OAAO;AACV,aAAK,YAAY;AAAA,UAChB,SAAS,MAAM;AAAA,UACf,QAAQ;AAAA;AAAA,UACR,YAAY;AAAA,UACZ,YAAY;AAAA,UACZ,YAAY,KAAK,WAAW,MAAM,UAAU;AAAA,UAC5C,aAAa,MAAM,QAAQ;AAAA,UAC3B,SAAS,MAAM;AAAA,UACf,OAAO,MAAM;AAAA,UACb,YAAY,MAAM;AAAA,UAClB,aAAa,MAAM;AAAA,UACnB,YAAY,MAAM;AAAA;aAEb;AACNA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,QACP,CAAC;AACD,mBAAW,MAAM;AAChBA,wBAAG,MAAC,aAAY;AAAA,QAChB,GAAE,IAAI;AAAA,MACR;AAAA,IACA;AAAA;AAAA,IAGD,WAAW,SAAS;AACnB,YAAM,OAAO,IAAI,KAAK,OAAO;AAC7B,aAAO,GAAG,KAAK,YAAa,CAAA,IAAI,OAAO,KAAK,aAAa,CAAC,EAAE,SAAS,GAAG,GAAG,CAAC,IAAI,OAAO,KAAK,QAAS,CAAA,EAAE,SAAS,GAAG,GAAG,CAAC,IAAI,OAAO,KAAK,UAAU,EAAE,SAAS,GAAG,GAAG,CAAC,IAAI,OAAO,KAAK,WAAY,CAAA,EAAE,SAAS,GAAG,GAAG,CAAC;AAAA,IACjN;AAAA;AAAA,IAGD,gBAAgB;AACfA,oBAAAA,MAAI,UAAU;AAAA,QACb,OAAO;AAAA,QACP,MAAM;AAAA,MACP,CAAC;AAAA,IACD;AAAA;AAAA,IAGD,iBAAiB;AAChBA,oBAAAA,MAAI,UAAU;AAAA,QACb,OAAO;AAAA,QACP,SAAS;AAAA,QACT,SAAS,CAAC,QAAQ;AACjB,cAAI,IAAI,SAAS;AAChB,iBAAK,UAAU,SAAS;AACxB,iBAAK,UAAU,aAAa;AAC5B,iBAAK,UAAU,aAAa;AAE5BA,0BAAAA,MAAI,UAAU;AAAA,cACb,OAAO;AAAA,cACP,MAAM;AAAA,YACP,CAAC;AAAA,UACF;AAAA,QACD;AAAA,MACD,CAAC;AAAA,IACD;AAAA;AAAA,IAGD,cAAc;AACbA,oBAAAA,MAAI,UAAU;AAAA,QACb,OAAO;AAAA,QACP,MAAM;AAAA,MACP,CAAC;AAAA,IACF;AAAA,EACD;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7LD,GAAG,WAAW,eAAe;"}