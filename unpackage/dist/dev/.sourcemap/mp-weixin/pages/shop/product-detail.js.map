{"version":3,"file":"product-detail.js","sources":["pages/shop/product-detail.vue","../../../../../Work-Tools/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvc2hvcC9wcm9kdWN0LWRldGFpbC52dWU"],"sourcesContent":["<template>\n\t<view class=\"content\">\n\t\t<!-- 商品轮播图 -->\n\t\t<view class=\"product-swiper\">\n\t\t\t<swiper \n\t\t\t\tclass=\"swiper\" \n\t\t\t\t:indicator-dots=\"true\" \n\t\t\t\t:autoplay=\"false\"\n\t\t\t\tindicator-color=\"rgba(255,255,255,0.6)\"\n\t\t\t\tindicator-active-color=\"#FF69B4\"\n\t\t\t>\n\t\t\t\t<swiper-item v-for=\"(image, index) in product.images\" :key=\"index\">\n\t\t\t\t\t<image :src=\"image\" class=\"swiper-image\" mode=\"aspectFill\"></image>\n\t\t\t\t</swiper-item>\n\t\t\t</swiper>\n\t\t</view>\n\t\t\n\t\t<!-- 商品信息 -->\n\t\t<view class=\"product-info\">\n\t\t\t<view class=\"price-section\">\n\t\t\t\t<text class=\"current-price\">¥{{product.price}}</text>\n\t\t\t\t<text class=\"original-price\" v-if=\"product.originalPrice\">¥{{product.originalPrice}}</text>\n\t\t\t\t<text class=\"discount-tag\" v-if=\"product.originalPrice\">{{getDiscount()}}折</text>\n\t\t\t</view>\n\t\t\t<text class=\"product-name\">{{product.name}}</text>\n\t\t\t<text class=\"product-desc\">{{product.description}}</text>\n\t\t\t<view class=\"product-meta\">\n\t\t\t\t<text class=\"sales-info\">已售{{product.sales}}件</text>\n\t\t\t\t<text class=\"rating-info\">⭐{{product.rating}}</text>\n\t\t\t\t<text class=\"stock-info\">库存{{product.stock}}件</text>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- 规格选择 -->\n\t\t<view class=\"spec-section\" v-if=\"product.specs\">\n\t\t\t<view class=\"section-title\">规格选择</view>\n\t\t\t<view class=\"spec-list\">\n\t\t\t\t<view \n\t\t\t\t\tclass=\"spec-item\" \n\t\t\t\t\tv-for=\"(spec, index) in product.specs\" \n\t\t\t\t\t:key=\"index\"\n\t\t\t\t\t:class=\"{ active: selectedSpec === spec.value }\"\n\t\t\t\t\t@click=\"selectSpec(spec)\"\n\t\t\t\t>\n\t\t\t\t\t<text class=\"spec-text\">{{spec.name}}</text>\n\t\t\t\t\t<text class=\"spec-price\" v-if=\"spec.price\">+¥{{spec.price}}</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- 数量选择 -->\n\t\t<view class=\"quantity-section\">\n\t\t\t<view class=\"section-title\">购买数量</view>\n\t\t\t<view class=\"quantity-control\">\n\t\t\t\t<button class=\"quantity-btn\" @click=\"decreaseQuantity\" :disabled=\"quantity <= 1\">-</button>\n\t\t\t\t<text class=\"quantity-text\">{{quantity}}</text>\n\t\t\t\t<button class=\"quantity-btn\" @click=\"increaseQuantity\" :disabled=\"quantity >= product.stock\">+</button>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- 商品详情 -->\n\t\t<view class=\"detail-section\">\n\t\t\t<view class=\"section-title\">商品详情</view>\n\t\t\t<view class=\"detail-content\">\n\t\t\t\t<text class=\"detail-text\">{{product.detail || '暂无详细信息'}}</text>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- 底部操作栏 -->\n\t\t<view class=\"bottom-bar\">\n\t\t\t<button class=\"buy-btn\" @click=\"buyNow\">立即购买</button>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tproduct: {\n\t\t\t\t\tid: 1,\n\t\t\t\t\tname: 'VR眼镜套装',\n\t\t\t\t\tdescription: '高清VR眼镜，沉浸式体验，支持多平台游戏和应用',\n\t\t\t\t\tprice: 299,\n\t\t\t\t\toriginalPrice: 399,\n\t\t\t\t\timage: '/static/image/day/VR体验馆.jpg',\n\t\t\t\t\timages: [\n\t\t\t\t\t\t'/static/image/day/VR体验馆.jpg',\n\t\t\t\t\t\t'/static/componentIndex.png',\n\t\t\t\t\t\t'/static/templateIndex.png'\n\t\t\t\t\t],\n\t\t\t\t\tcategory: 'vr',\n\t\t\t\t\tsales: 156,\n\t\t\t\t\trating: 4.8,\n\t\t\t\t\tstock: 50,\n\t\t\t\t\tspecs: [\n\t\t\t\t\t\t{ name: '标准版', value: 'standard', price: 0 },\n\t\t\t\t\t\t{ name: '豪华版', value: 'premium', price: 50 },\n\t\t\t\t\t\t{ name: '专业版', value: 'pro', price: 100 }\n\t\t\t\t\t],\n\t\t\t\t\tdetail: '产品特点：\\n• 高清显示，沉浸式体验\\n• 轻量化设计，佩戴舒适\\n• 支持多平台游戏和应用\\n• 内置音频系统\\n• 可调节瞳距和焦距\\n\\n包装清单：\\n• VR眼镜主机\\n• 手柄控制器\\n• 充电线\\n• 说明书\\n• 清洁布'\n\t\t\t\t},\n\t\t\t\tselectedSpec: 'standard',\n\t\t\t\tquantity: 1\n\t\t\t}\n\t\t},\n\t\tonLoad(options) {\n\t\t\tif (options.product) {\n\t\t\t\ttry {\n\t\t\t\t\tconst productData = JSON.parse(decodeURIComponent(options.product));\n\t\t\t\t\tthis.product = { ...this.product, ...productData };\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.error('解析商品数据失败:', e);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\t// 计算折扣\n\t\t\tgetDiscount() {\n\t\t\t\tif (!this.product.originalPrice) return 10;\n\t\t\t\tconst discount = Math.round((this.product.price / this.product.originalPrice) * 10);\n\t\t\t\treturn discount;\n\t\t\t},\n\t\t\t\n\t\t\t// 选择规格\n\t\t\tselectSpec(spec) {\n\t\t\t\tthis.selectedSpec = spec.value;\n\t\t\t},\n\t\t\t\n\t\t\t// 减少数量\n\t\t\tdecreaseQuantity() {\n\t\t\t\tif (this.quantity > 1) {\n\t\t\t\t\tthis.quantity--;\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// 增加数量\n\t\t\tincreaseQuantity() {\n\t\t\t\tif (this.quantity < this.product.stock) {\n\t\t\t\t\tthis.quantity++;\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// 计算总价\n\t\t\tcalculateTotalPrice() {\n\t\t\t\tconst basePrice = this.product.price;\n\t\t\t\tconst selectedSpec = this.product.specs?.find(s => s.value === this.selectedSpec);\n\t\t\t\tconst specPrice = selectedSpec ? selectedSpec.price : 0;\n\t\t\t\treturn (basePrice + specPrice) * this.quantity;\n\t\t\t},\n\t\t\t\n\t\t\t// 立即购买\n\t\t\tbuyNow() {\n\t\t\t\tconst selectedSpec = this.product.specs?.find(s => s.value === this.selectedSpec);\n\t\t\t\tconst orderData = {\n\t\t\t\t\t...this.product,\n\t\t\t\t\tspecName: selectedSpec ? selectedSpec.name : '标准版',\n\t\t\t\t\tspecPrice: selectedSpec ? selectedSpec.price : 0\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: `/pages/shop/purchase?product=${encodeURIComponent(JSON.stringify(orderData))}`\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style lang=\"scss\">\n\t.content {\n\t\tbackground-color: #fef8fa; // 更淡的浅粉色背景\n\t\tmin-height: 100vh;\n\t\tpadding-bottom: 120rpx;\n\t}\n\t\n\t/* 商品轮播图 */\n\t.product-swiper {\n\t\t.swiper {\n\t\t\theight: 500rpx;\n\t\t\t\n\t\t\t.swiper-image {\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 100%;\n\t\t\t}\n\t\t}\n\t}\n\t\n\t/* 商品信息 */\n\t.product-info {\n\t\tbackground-color: #fff;\n\t\tpadding: 30rpx;\n\t\tmargin-bottom: 20rpx;\n\t\t\n\t\t.price-section {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tgap: 20rpx;\n\t\t\tmargin-bottom: 20rpx;\n\t\t\t\n\t\t\t.current-price {\n\t\t\t\tfont-size: 48rpx;\n\t\t\t\tfont-weight: bold;\n\t\t\t\tcolor: #FFB6C1; // 更淡的粉色\n\t\t\t}\n\t\t\t\n\t\t\t.original-price {\n\t\t\t\tfont-size: 28rpx;\n\t\t\t\tcolor: #999;\n\t\t\t\ttext-decoration: line-through;\n\t\t\t}\n\t\t\t\n\t\t\t.discount-tag {\n\t\t\t\tbackground-color: #ff4757;\n\t\t\t\tcolor: #fff;\n\t\t\t\tfont-size: 22rpx;\n\t\t\t\tpadding: 4rpx 12rpx;\n\t\t\t\tborder-radius: 12rpx;\n\t\t\t}\n\t\t}\n\t\t\n\t\t.product-name {\n\t\t\tfont-size: 36rpx;\n\t\t\tfont-weight: bold;\n\t\t\tcolor: #333;\n\t\t\tdisplay: block;\n\t\t\tmargin-bottom: 16rpx;\n\t\t}\n\t\t\n\t\t.product-desc {\n\t\t\tfont-size: 28rpx;\n\t\t\tcolor: #666;\n\t\t\tdisplay: block;\n\t\t\tmargin-bottom: 20rpx;\n\t\t\tline-height: 1.5;\n\t\t}\n\t\t\n\t\t.product-meta {\n\t\t\tdisplay: flex;\n\t\t\tgap: 30rpx;\n\t\t\t\n\t\t\t.sales-info, .rating-info, .stock-info {\n\t\t\t\tfont-size: 24rpx;\n\t\t\t\tcolor: #999;\n\t\t\t}\n\t\t}\n\t}\n\t\n\t/* 规格选择 */\n\t.spec-section {\n\t\tbackground-color: #fff;\n\t\tpadding: 30rpx;\n\t\tmargin-bottom: 20rpx;\n\t\t\n\t\t.section-title {\n\t\t\tfont-size: 32rpx;\n\t\t\tfont-weight: bold;\n\t\t\tcolor: #333;\n\t\t\tmargin-bottom: 20rpx;\n\t\t}\n\t\t\n\t\t.spec-list {\n\t\t\tdisplay: flex;\n\t\t\tflex-wrap: wrap;\n\t\t\tgap: 20rpx;\n\t\t\t\n\t\t\t.spec-item {\n\t\t\t\tpadding: 20rpx 30rpx;\n\t\t\t\tborder: 2rpx solid #f0f0f0;\n\t\t\t\tborder-radius: 12rpx;\n\t\t\t\tbackground-color: #fafafa;\n\t\t\t\ttransition: all 0.3s ease;\n\t\t\t\t\n\t\t\t\t&.active {\n\t\t\t\t\tborder-color: #FFB6C1; // 更淡的粉色\n\t\t\t\t\tbackground-color: #fef8fa; // 更淡的浅粉色背景\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.spec-text {\n\t\t\t\t\tfont-size: 28rpx;\n\t\t\t\t\tcolor: #333;\n\t\t\t\t\tdisplay: block;\n\t\t\t\t\tmargin-bottom: 8rpx;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.spec-price {\n\t\t\t\t\tfont-size: 24rpx;\n\t\t\t\t\tcolor: #FFB6C1; // 更淡的粉色\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\t/* 数量选择 */\n\t.quantity-section {\n\t\tbackground-color: #fff;\n\t\tpadding: 30rpx;\n\t\tmargin-bottom: 20rpx;\n\t\t\n\t\t.section-title {\n\t\t\tfont-size: 32rpx;\n\t\t\tfont-weight: bold;\n\t\t\tcolor: #333;\n\t\t\tmargin-bottom: 20rpx;\n\t\t}\n\t\t\n\t\t.quantity-control {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tgap: 30rpx;\n\t\t\t\n\t\t\t.quantity-btn {\n\t\t\t\twidth: 60rpx;\n\t\t\t\theight: 60rpx;\n\t\t\t\tbackground-color: #f0f0f0;\n\t\t\t\tborder-radius: 50%;\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: center;\n\t\t\t\tfont-size: 32rpx;\n\t\t\t\tcolor: #333;\n\t\t\t\t\n\t\t\t\t&:disabled {\n\t\t\t\t\tbackground-color: #f5f5f5;\n\t\t\t\t\tcolor: #ccc;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t.quantity-text {\n\t\t\t\tfont-size: 32rpx;\n\t\t\t\tfont-weight: bold;\n\t\t\t\tcolor: #333;\n\t\t\t\tmin-width: 80rpx;\n\t\t\t\ttext-align: center;\n\t\t\t}\n\t\t}\n\t}\n\t\n\t/* 商品详情 */\n\t.detail-section {\n\t\tbackground-color: #fff;\n\t\tpadding: 30rpx;\n\t\t\n\t\t.section-title {\n\t\t\tfont-size: 32rpx;\n\t\t\tfont-weight: bold;\n\t\t\tcolor: #333;\n\t\t\tmargin-bottom: 20rpx;\n\t\t}\n\t\t\n\t\t.detail-content {\n\t\t\t.detail-text {\n\t\t\t\tfont-size: 28rpx;\n\t\t\t\tcolor: #666;\n\t\t\t\tline-height: 1.8;\n\t\t\t\twhite-space: pre-line;\n\t\t\t}\n\t\t}\n\t}\n\t\n\t/* 底部操作栏 */\n\t.bottom-bar {\n\t\tposition: fixed;\n\t\tbottom: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tbackground-color: #fff;\n\t\tpadding: 20rpx 30rpx;\n\t\tborder-top: 1rpx solid #f0f0f0;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\t\n\t\t.buy-btn {\n\t\t\twidth: 100%;\n\t\t\theight: 80rpx;\n\t\t\tbackground-color: #FFB6C1; // 更淡的粉色\n\t\t\tcolor: #fff;\n\t\t\tborder-radius: 40rpx;\n\t\t\tfont-size: 28rpx;\n\t\t\tfont-weight: bold;\n\t\t}\n\t}\n</style> ","import MiniProgramPage from 'D:/workspace/2025/wx/wx20250829_1/vx_tttyg1/pages/shop/product-detail.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":";;AA4EC,MAAK,YAAU;AAAA,EACd,OAAO;AACN,WAAO;AAAA,MACN,SAAS;AAAA,QACR,IAAI;AAAA,QACJ,MAAM;AAAA,QACN,aAAa;AAAA,QACb,OAAO;AAAA,QACP,eAAe;AAAA,QACf,OAAO;AAAA,QACP,QAAQ;AAAA,UACP;AAAA,UACA;AAAA,UACA;AAAA,QACA;AAAA,QACD,UAAU;AAAA,QACV,OAAO;AAAA,QACP,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,OAAO;AAAA,UACN,EAAE,MAAM,OAAO,OAAO,YAAY,OAAO,EAAG;AAAA,UAC5C,EAAE,MAAM,OAAO,OAAO,WAAW,OAAO,GAAI;AAAA,UAC5C,EAAE,MAAM,OAAO,OAAO,OAAO,OAAO,IAAI;AAAA,QACxC;AAAA,QACD,QAAQ;AAAA,MACR;AAAA,MACD,cAAc;AAAA,MACd,UAAU;AAAA,IACX;AAAA,EACA;AAAA,EACD,OAAO,SAAS;AACf,QAAI,QAAQ,SAAS;AACpB,UAAI;AACH,cAAM,cAAc,KAAK,MAAM,mBAAmB,QAAQ,OAAO,CAAC;AAClE,aAAK,UAAU,EAAE,GAAG,KAAK,SAAS,GAAG;MACtC,SAAS,GAAG;AACXA,mFAAc,aAAa,CAAC;AAAA,MAC7B;AAAA,IACD;AAAA,EACA;AAAA,EACD,SAAS;AAAA;AAAA,IAER,cAAc;AACb,UAAI,CAAC,KAAK,QAAQ;AAAe,eAAO;AACxC,YAAM,WAAW,KAAK,MAAO,KAAK,QAAQ,QAAQ,KAAK,QAAQ,gBAAiB,EAAE;AAClF,aAAO;AAAA,IACP;AAAA;AAAA,IAGD,WAAW,MAAM;AAChB,WAAK,eAAe,KAAK;AAAA,IACzB;AAAA;AAAA,IAGD,mBAAmB;AAClB,UAAI,KAAK,WAAW,GAAG;AACtB,aAAK;AAAA,MACN;AAAA,IACA;AAAA;AAAA,IAGD,mBAAmB;AAClB,UAAI,KAAK,WAAW,KAAK,QAAQ,OAAO;AACvC,aAAK;AAAA,MACN;AAAA,IACA;AAAA;AAAA,IAGD,sBAAsB;;AACrB,YAAM,YAAY,KAAK,QAAQ;AAC/B,YAAM,gBAAe,UAAK,QAAQ,UAAb,mBAAoB,KAAK,OAAK,EAAE,UAAU,KAAK;AACpE,YAAM,YAAY,eAAe,aAAa,QAAQ;AACtD,cAAQ,YAAY,aAAa,KAAK;AAAA,IACtC;AAAA;AAAA,IAGD,SAAS;;AACR,YAAM,gBAAe,UAAK,QAAQ,UAAb,mBAAoB,KAAK,OAAK,EAAE,UAAU,KAAK;AACpE,YAAM,YAAY;AAAA,QACjB,GAAG,KAAK;AAAA,QACR,UAAU,eAAe,aAAa,OAAO;AAAA,QAC7C,WAAW,eAAe,aAAa,QAAQ;AAAA;AAGhDA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK,gCAAgC,mBAAmB,KAAK,UAAU,SAAS,CAAC,CAAC;AAAA,MACnF,CAAC;AAAA,IACF;AAAA,EACD;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpKD,GAAG,WAAW,eAAe;"}