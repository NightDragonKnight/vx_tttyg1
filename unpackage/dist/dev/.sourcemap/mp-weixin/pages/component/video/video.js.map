{"version":3,"file":"video.js","sources":["pages/component/video/video.vue","../../../../../Work-Tools/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvY29tcG9uZW50L3ZpZGVvL3ZpZGVvLnZ1ZQ"],"sourcesContent":["<template>\r\n\t<view>\r\n\t\t<page-head :title=\"title\"></page-head>\r\n\t\t<view class=\"uni-padding-wrap uni-common-mt\" v-if=\"showVideo\">\r\n\t\t\t<view>\r\n\t\t\t\t<video id=\"myVideo\" src=\"https://qiniu-web-assets.dcloud.net.cn/unidoc/zh/2minute-demo.mp4\"\r\n\t\t\t\t @error=\"videoErrorCallback\" :danmu-list=\"danmuList\" enable-danmu danmu-btn controls poster=\"https://web-assets.dcloud.net.cn/unidoc/zh/poster.png\"></video>\r\n\t\t\t</view>\r\n\t\t\t<!-- #ifndef MP-ALIPAY || MP-TOUTIAO || MP-KUAISHOU || MP-LARK || MP-JD -->\r\n\t\t\t<view class=\"uni-list uni-common-mt\">\r\n\t\t\t\t<view class=\"uni-list-cell\">\r\n\t\t\t\t\t<view>\r\n\t\t\t\t\t\t<view class=\"uni-label\">弹幕内容</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"uni-list-cell-db\">\r\n\t\t\t\t\t\t<input v-model=\"danmuValue\" class=\"uni-input\" type=\"text\" placeholder=\"在此处输入弹幕内容\" />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"uni-btn-v\">\r\n\t\t\t\t<button @click=\"sendDanmu\" class=\"page-body-button\">发送弹幕</button>\r\n\t\t\t</view>\r\n\t\t\t<!-- #endif -->\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\ttitle: 'video',\r\n\t\t\t\tsrc: '',\r\n\t\t\t\tdanmuList: [{\r\n\t\t\t\t\t\ttext: '第 1s 出现的弹幕',\r\n\t\t\t\t\t\tcolor: '#ff0000',\r\n\t\t\t\t\t\ttime: 1\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttext: '第 3s 出现的弹幕',\r\n\t\t\t\t\t\tcolor: '#ff00ff',\r\n\t\t\t\t\t\ttime: 3\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\tdanmuValue: '',\r\n\t\t\t\tshowVideo: false\r\n\t\t\t}\r\n\t\t},\r\n\t\tonReady: function(res) {\r\n\t\t\t// #ifndef MP-ALIPAY || MP-TOUTIAO\r\n\t\t\tthis.videoContext = uni.createVideoContext('myVideo')\r\n\t\t\t// #endif\r\n      // #ifdef APP-PLUS || MP-BAIDU\r\n      setTimeout(()=>{\r\n      \tthis.showVideo = true\r\n      },350)\r\n      // #endif\r\n      // #ifndef APP-PLUS || MP-BAIDU\r\n      this.showVideo = true\r\n      // #endif\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tsendDanmu: function() {\r\n\t\t\t\tthis.videoContext.sendDanmu({\r\n\t\t\t\t\ttext: this.danmuValue,\r\n\t\t\t\t\tcolor: this.getRandomColor()\r\n\t\t\t\t});\r\n\t\t\t\tthis.danmuValue = '';\r\n\t\t\t},\r\n\t\t\tvideoErrorCallback: function(e) {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\tcontent: e.target.errMsg,\r\n\t\t\t\t\tshowCancel: false\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetRandomColor: function() {\r\n\t\t\t\tconst rgb = []\r\n\t\t\t\tfor (let i = 0; i < 3; ++i) {\r\n\t\t\t\t\tlet color = Math.floor(Math.random() * 256).toString(16)\r\n\t\t\t\t\tcolor = color.length == 1 ? '0' + color : color\r\n\t\t\t\t\trgb.push(color)\r\n\t\t\t\t}\r\n\t\t\t\treturn '#' + rgb.join('')\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\tvideo {\r\n\t\twidth: 690rpx;\r\n\t\twidth: 100%;\r\n\t\theight: 400px;\r\n\t}\r\n</style>\r\n","import MiniProgramPage from 'D:/workspace/2025/wx/wx20250829/天天体验馆/pages/component/video/video.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":";;AA2BC,MAAK,YAAU;AAAA,EACd,OAAO;AACN,WAAO;AAAA,MACN,OAAO;AAAA,MACP,KAAK;AAAA,MACL,WAAW;AAAA,QAAC;AAAA,UACV,MAAM;AAAA,UACN,OAAO;AAAA,UACP,MAAM;AAAA,QACN;AAAA,QACD;AAAA,UACC,MAAM;AAAA,UACN,OAAO;AAAA,UACP,MAAM;AAAA,QACP;AAAA,MACA;AAAA,MACD,YAAY;AAAA,MACZ,WAAW;AAAA,IACZ;AAAA,EACA;AAAA,EACD,SAAS,SAAS,KAAK;AAEtB,SAAK,eAAeA,oBAAI,mBAAmB,SAAS;AAQjD,SAAK,YAAY;AAAA,EAEpB;AAAA,EACD,SAAS;AAAA,IACR,WAAW,WAAW;AACrB,WAAK,aAAa,UAAU;AAAA,QAC3B,MAAM,KAAK;AAAA,QACX,OAAO,KAAK,eAAe;AAAA,MAC5B,CAAC;AACD,WAAK,aAAa;AAAA,IAClB;AAAA,IACD,oBAAoB,SAAS,GAAG;AAC/BA,oBAAAA,MAAI,UAAU;AAAA,QACb,SAAS,EAAE,OAAO;AAAA,QAClB,YAAY;AAAA,OACZ;AAAA,IACD;AAAA,IACD,gBAAgB,WAAW;AAC1B,YAAM,MAAM,CAAC;AACb,eAAS,IAAI,GAAG,IAAI,GAAG,EAAE,GAAG;AAC3B,YAAI,QAAQ,KAAK,MAAM,KAAK,OAAM,IAAK,GAAG,EAAE,SAAS,EAAE;AACvD,gBAAQ,MAAM,UAAU,IAAI,MAAM,QAAQ;AAC1C,YAAI,KAAK,KAAK;AAAA,MACf;AACA,aAAO,MAAM,IAAI,KAAK,EAAE;AAAA,IACzB;AAAA,EACD;AACD;;;;;;;;;;;;;;;;;;;;;;;;ACnFD,GAAG,WAAW,eAAe;"}