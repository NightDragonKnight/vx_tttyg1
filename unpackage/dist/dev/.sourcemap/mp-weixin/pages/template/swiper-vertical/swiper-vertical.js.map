{"version":3,"file":"swiper-vertical.js","sources":["pages/template/swiper-vertical/swiper-vertical.nvue","../../../../../Work-Tools/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXNcdGVtcGxhdGVcc3dpcGVyLXZlcnRpY2FsXHN3aXBlci12ZXJ0aWNhbC5udnVl"],"sourcesContent":["<template>\r\n    <view class=\"page\">\r\n        <swiper class=\"swiper\" :circular=\"circular\" :vertical=\"true\" @change=\"onSwiperChange\">\r\n            <swiper-item v-for=\"item in videoList\" :key=\"item.id\">\r\n                <video class=\"video\" :id=\"item.id\" :ref=\"item.id\" :src=\"item.src\" :controls=\"false\" :loop=\"true\"\r\n                    :show-center-play-btn=\"false\"></video>\r\n            </swiper-item>\r\n        </swiper>\r\n    </view>\r\n</template>\r\n<script>\r\n    const videoData = [{\r\n            src: 'https://img.cdn.aliyun.dcloud.net.cn/guide/uniapp/hellouniapp/hello-nvue-swiper-vertical-01.mp4'\r\n        },\r\n        {\r\n            src: 'https://img.cdn.aliyun.dcloud.net.cn/guide/uniapp/hellouniapp/hello-nvue-swiper-vertical-02.mp4'\r\n        },\r\n        {\r\n            src: 'https://img.cdn.aliyun.dcloud.net.cn/guide/uniapp/hellouniapp/hello-nvue-swiper-vertical-03.mp4'\r\n        },\r\n        {\r\n            src: 'https://img.cdn.aliyun.dcloud.net.cn/guide/uniapp/hellouniapp/hello-nvue-swiper-vertical-01.mp4'\r\n        },\r\n        {\r\n            src: 'https://img.cdn.aliyun.dcloud.net.cn/guide/uniapp/hellouniapp/hello-nvue-swiper-vertical-02.mp4'\r\n        },\r\n        {\r\n            src: 'https://img.cdn.aliyun.dcloud.net.cn/guide/uniapp/hellouniapp/hello-nvue-swiper-vertical-03.mp4'\r\n        }\r\n    ];\r\n\r\n    export default {\r\n        data() {\r\n            return {\r\n                circular: true,\r\n                videoList: [{\r\n                        id: \"video0\",\r\n                        src: \"\",\r\n                        img: \"\"\r\n                    },\r\n                    {\r\n                        id: \"video1\",\r\n                        src: \"\",\r\n                        img: \"\"\r\n                    },\r\n                    {\r\n                        id: \"video2\",\r\n                        src: \"\",\r\n                        img: \"\"\r\n                    }\r\n                ],\r\n                videoDataList: []\r\n            }\r\n        },\r\n        onLoad(e) {},\r\n        onReady() {\r\n            this.init();\r\n            this.getData();\r\n        },\r\n        methods: {\r\n            init() {\r\n                this._videoIndex = 0;\r\n                this._videoContextList = [];\r\n                for (var i = 0; i < this.videoList.length; i++) {\r\n                    this._videoContextList.push(uni.createVideoContext('video' + i, this));\r\n                }\r\n                this._videoDataIndex = 0;\r\n            },\r\n            getData(e) {\r\n                this.videoDataList = videoData;\r\n                setTimeout(() => {\r\n                    this.updateVideo(true);\r\n                }, 200)\r\n            },\r\n            onSwiperChange(e) {\r\n                let currentIndex = e.detail.current;\r\n                if (currentIndex === this._videoIndex) {\r\n                    return;\r\n                }\r\n\r\n                let isNext = false;\r\n                if (currentIndex === 0 && this._videoIndex === this.videoList.length - 1) {\r\n                    isNext = true;\r\n                } else if (currentIndex === this.videoList.length - 1 && this._videoIndex === 0) {\r\n                    isNext = false;\r\n                } else if (currentIndex > this._videoIndex) {\r\n                    isNext = true;\r\n                }\r\n\r\n                if (isNext) {\r\n                    this._videoDataIndex++;\r\n                } else {\r\n                    this._videoDataIndex--;\r\n                }\r\n\r\n                if (this._videoDataIndex < 0) {\r\n                    this._videoDataIndex = this.videoDataList.length - 1;\r\n                } else if (this._videoDataIndex >= this.videoDataList.length) {\r\n                    this._videoDataIndex = 0;\r\n                }\r\n\r\n                this.circular = (this._videoDataIndex != 0);\r\n\r\n                if (this._videoIndex >= 0) {\r\n                    this._videoContextList[this._videoIndex].pause();\r\n                    this._videoContextList[this._videoIndex].seek(0);\r\n                }\r\n\r\n                this._videoIndex = currentIndex;\r\n\r\n                setTimeout(() => {\r\n                    this.updateVideo(isNext);\r\n                }, 200);\r\n            },\r\n            getNextIndex(isNext) {\r\n                let index = this._videoIndex + (isNext ? 1 : -1);\r\n                if (index < 0) {\r\n                    return this.videoList.length - 1;\r\n                } else if (index >= this.videoList.length) {\r\n                    return 0;\r\n                }\r\n                return index;\r\n            },\r\n            getNextDataIndex(isNext) {\r\n                let index = this._videoDataIndex + (isNext ? 1 : -1);\r\n                if (index < 0) {\r\n                    return this.videoDataList.length - 1;\r\n                } else if (index >= this.videoDataList.length) {\r\n                    return 0;\r\n                }\r\n                return index;\r\n            },\r\n            updateVideo(isNext) {\r\n                this.$set(this.videoList[this._videoIndex], 'src', this.videoDataList[this._videoDataIndex].src);\r\n                this.$set(this.videoList[this.getNextIndex(isNext)], 'src', this.videoDataList[this.getNextDataIndex(isNext)].src);\r\n                setTimeout(() => {\r\n                    this._videoContextList[this._videoIndex].play();\r\n                }, 200);\r\n                console.log(\"v:\" + this._videoIndex + \" d:\" + this._videoDataIndex + \"; next v:\" + this.getNextIndex(\r\n                    isNext) + \" next d:\" + this.getNextDataIndex(isNext));\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style>\r\n    /* #ifndef H5 */\r\n/*    page {\r\n        width: 100%;\r\n        min-height: 100%;\r\n        display: flex;\r\n    } */\r\n    /* #endif */\r\n\r\n    .page {\r\n        flex: 1;\r\n        /* width: 750rpx; */\r\n    }\r\n\r\n    .swiper {\r\n        flex: 1;\r\n        background-color: #007AFF;\r\n    }\r\n\r\n    .swiper-item {\r\n        flex: 1;\r\n    }\r\n\r\n    .video {\r\n        flex: 1;\r\n        /* #ifndef APP-PLUS */\r\n        width: 100%;\r\n        /* #endif */\r\n    }\r\n</style>\r\n","import MiniProgramPage from 'D:/workspace/2025/wx/wx20250829/天天体验馆/pages/template/swiper-vertical/swiper-vertical.nvue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":"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"}