{"version":3,"file":"proximity.js","sources":["platforms/app-plus/proximity/proximity.vue","../../../../../Work-Tools/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGxhdGZvcm1zL2FwcC1wbHVzL3Byb3hpbWl0eS9wcm94aW1pdHkudnVl"],"sourcesContent":["<template>\r\n\t<view>\r\n\t\t<page-head :title=\"title\"></page-head>\r\n\t\t<view class=\"uni-padding-wrap uni-common-mt\">\r\n\t\t\t<view class=\"uni-hello-text\">\r\n\t\t\t\t手机顶部听筒处有传感器监听距离手机屏幕的障碍物，覆盖该传感器会触发本事件变化\r\n\t\t\t</view>\r\n\t\t\t<view class=\"uni-btn-v uni-common-mt\">\r\n\t\t\t\t<button type=\"primary\" @tap=\"getProximity\">获取距离传感器信息</button>\r\n\t\t\t\t<button type=\"primary\" @tap=\"watchProximity\">监听距离传感器变化</button>\r\n\t\t\t\t<button type=\"primary\" @tap=\"watchStop\">停止监听</button>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"uni-textarea uni-common-mt\">\r\n\t\t\t\t<textarea :value=\"value\" />\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n<script>\r\n\tvar id = null\r\n\tvar bright = null\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\ttitle: 'proximity',\r\n\t\t\t\tvalue: ''\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgetProximity: function () {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tplus.proximity.getCurrentProximity(function (d) {\r\n\t\t\t\t\tthat.value = \"距离为：\" + d;\r\n\t\t\t\t}, function (e) {\r\n\t\t\t\t\tthat.value = \"获取失败:\" + e.message;\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\twatchProximity: function () {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tif (id) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tbright = plus.screen.getBrightness();\r\n\t\t\t\tid = plus.proximity.watchProximity(function (d) {\r\n\t\t\t\t\tthat.value = \"距离变化：\" + d;\r\n\t\t\t\t\tplus.screen.setBrightness((d < 1) ? 0.01 : bright);\r\n\t\t\t\t}, function (e) {\r\n\t\t\t\t\tplus.proximity.clearWatch(id);\r\n\t\t\t\t\tid = null;\r\n\t\t\t\t\tthat.value = \"监听失败:\" + e.message;\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\twatchStop: function () {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tif (id) {\r\n\t\t\t\t\tthat.value = \"停止监听设备距离传感器信息\";\r\n\t\t\t\t\tplus.proximity.clearWatch(id);\r\n\t\t\t\t\tid = null;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthat.value = \"没有监听设备距离传感器\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t\r\n</style>\r\n","import MiniProgramPage from 'D:/workspace/2025/wx/wx20250829/天天体验馆/platforms/app-plus/proximity/proximity.vue'\nwx.createPage(MiniProgramPage)"],"names":[],"mappings":";;AAmBC,IAAI,KAAK;AACT,IAAI,SAAS;AACb,MAAK,YAAU;AAAA,EACd,OAAO;AACN,WAAO;AAAA,MACN,OAAO;AAAA,MACP,OAAO;AAAA,IACR;AAAA,EACA;AAAA,EACD,SAAS;AAAA,IACR,cAAc,WAAY;AACzB,UAAI,OAAO;AACX,WAAK,UAAU,oBAAoB,SAAU,GAAG;AAC/C,aAAK,QAAQ,SAAS;AAAA,MACtB,GAAE,SAAU,GAAG;AACf,aAAK,QAAQ,UAAU,EAAE;AAAA,MAC1B,CAAC;AAAA,IACD;AAAA,IACD,gBAAgB,WAAY;AAC3B,UAAI,OAAO;AACX,UAAI,IAAI;AACP;AAAA,MACD;AACA,eAAS,KAAK,OAAO;AACrB,WAAK,KAAK,UAAU,eAAe,SAAU,GAAG;AAC/C,aAAK,QAAQ,UAAU;AACvB,aAAK,OAAO,cAAe,IAAI,IAAK,OAAO,MAAM;AAAA,MACjD,GAAE,SAAU,GAAG;AACf,aAAK,UAAU,WAAW,EAAE;AAC5B,aAAK;AACL,aAAK,QAAQ,UAAU,EAAE;AAAA,MAC1B,CAAC;AAAA,IACD;AAAA,IACD,WAAW,WAAY;AACtB,UAAI,OAAO;AACX,UAAI,IAAI;AACP,aAAK,QAAQ;AACb,aAAK,UAAU,WAAW,EAAE;AAC5B,aAAK;AAAA,aACC;AACN,aAAK,QAAQ;AAAA,MACd;AAAA,IACD;AAAA,EACD;AACD;;;;;;;;;;;;;;;;;;;;;AC9DD,GAAG,WAAW,eAAe;"}