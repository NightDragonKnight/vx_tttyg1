# 预订详情第二页布局优化说明

## 功能概述
按照用户要求，重新设计了预订详情第二页的布局和流程，优化了用户体验。

## 主要修改内容

### 1. 页面标题优化 ✅
- **删除**："选择预定"四个字
- **保留**：返回产品详情按钮（最上面）

### 2. 新的页面流程 ✅
按照用户要求的顺序重新排列：

```
返回产品详情（最上面）
↓
选择按小时和套餐
↓
选择时间
↓
选择房间
```

### 3. 套餐选择功能 ✅
新增了完整的套餐选择界面：

#### 按小时计费
- **价格**：¥{{currentProduct.price}}/小时
- **描述**：灵活选择时间，按实际使用时长计费

#### 套餐一：基础体验
- **价格**：¥{{currentProduct.package1Price}}
- **描述**：包含2小时体验时间，适合初次体验

#### 套餐二：进阶体验
- **价格**：¥{{currentProduct.package2Price}}
- **描述**：包含4小时体验时间，深度体验推荐

#### 套餐三：豪华体验
- **价格**：¥{{currentProduct.package3Price}}
- **描述**：包含6小时体验时间，极致体验享受

### 4. 条件显示逻辑 ✅
- **套餐选择**：页面加载后立即显示
- **时间选择**：选择套餐后显示
- **房间选择**：选择时间后显示
- **确认按钮**：所有选择完成后显示

### 5. 数据结构优化 ✅
新增了 `selectedPackageType` 字段：
```javascript
selectedPackageType: '', // 选择的套餐类型：hourly, package1, package2, package3
```

### 6. 新增方法 ✅
新增了 `selectPackage` 方法：
```javascript
selectPackage(packageType) {
    this.selectedPackageType = packageType;
    // 选择套餐时清空后续所有选择
    this.selectedRoom = null;
    this.selectedStartTime = null;
    this.selectedEndTime = null;
    this.startTimeIndex = -1;
    this.endTimeIndex = -1;
}
```

### 7. 计算属性优化 ✅
修改了 `canConfirm` 计算属性：
```javascript
canConfirm() {
    return this.selectedPackageType && 
           this.selectedRoom && 
           this.selectedStartTime &&
           this.selectedEndTime;
}
```

## 页面布局结构

### 第二页完整结构
```
返回产品详情按钮
↓
选择按小时和套餐
├── 按小时计费
├── 套餐一：基础体验
├── 套餐二：进阶体验
└── 套餐三：豪华体验
↓
选择时间
├── 选择日期
├── 开始时间
├── 结束时间
└── 时间段状态可视化
↓
选择房间
├── 房间列表
└── 房间详情轮播图
↓
确认预订按钮
```

## 用户体验流程

### 1. 进入第二页
- 显示返回产品详情按钮
- 显示套餐选择界面
- 提示用户选择计费方式

### 2. 选择套餐
- 点击任意套餐选项
- 套餐高亮显示
- 时间选择界面出现

### 3. 选择时间
- 选择日期
- 选择开始时间
- 选择结束时间
- 查看时间段状态

### 4. 选择房间
- 时间选择完成后，房间选择界面出现
- 选择可用房间
- 查看房间详情

### 5. 确认预订
- 所有选择完成后，确认按钮出现
- 点击确认完成预订

## 样式设计

### 套餐选择样式
- **卡片式设计**：每个套餐独立卡片
- **悬停效果**：鼠标悬停时边框变色和阴影
- **选中状态**：选中时粉色边框和背景
- **响应式布局**：适配不同屏幕尺寸

### 颜色搭配
- **主色调**：#FF69B4（粉色）
- **背景色**：#fff8fa（浅粉色背景）
- **边框色**：#ffe4e8（浅粉色边框）
- **文字色**：#333（深色）、#666（中色）、#999（浅色）

## 技术实现

### 1. 条件渲染
使用 `v-if` 指令控制各部分的显示：
```html
<!-- 时间选择 -->
<view class="time-section" v-if="selectedPackageType">

<!-- 房间选择 -->
<view class="room-section" v-if="selectedStartTime && selectedEndTime">
```

### 2. 数据联动
选择套餐时清空后续选择，确保数据一致性：
```javascript
selectPackage(packageType) {
    this.selectedPackageType = packageType;
    // 清空后续选择
    this.selectedRoom = null;
    this.selectedStartTime = null;
    this.selectedEndTime = null;
}
```

### 3. 状态管理
通过计算属性 `canConfirm` 控制确认按钮的显示状态。

## 优势特点

✅ **流程清晰**：按照用户要求的顺序排列，逻辑清晰  
✅ **条件显示**：避免信息冗余，逐步引导用户选择  
✅ **视觉美观**：现代化的卡片式设计，用户体验佳  
✅ **数据一致**：选择套餐时自动清空后续选择，避免冲突  
✅ **响应式设计**：适配不同设备，移动端友好  
✅ **交互友好**：悬停效果和选中状态，操作反馈明确  

## 文件修改
- `pages/tabBar/booking-detail/booking-detail.vue` - 主要功能实现

## 注意事项
1. 确保所有产品的价格和套餐信息完整
2. 测试不同套餐选择后的流程是否正常
3. 验证时间选择和房间选择的联动逻辑
4. 在不同设备上测试响应式效果
5. 确保确认按钮的显示条件正确 